2024-09-23 00:13:18.426 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:13:18.582 +03:00 [DBG] Hosting starting
2024-09-23 00:13:18.628 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:13:18.641 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:13:18.650 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:13:18.651 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:13:18.654 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:13:18.662 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:13:18.663 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:13:18.670 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:13:18.672 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:13:18.684 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:13:18.684 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:13:18.692 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:13:18.694 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:13:18.803 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:13:18.804 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:13:18.804 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:13:18.804 +03:00 [INF] Hosting environment: Development
2024-09-23 00:13:18.804 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:13:18.804 +03:00 [DBG] Hosting started
2024-09-23 00:13:19.314 +03:00 [DBG] Connection id "0HN6R9DH04U9L" accepted.
2024-09-23 00:13:19.319 +03:00 [DBG] Connection id "0HN6R9DH04U9L" started.
2024-09-23 00:13:19.401 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 00:13:19.410 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:13:19.442 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 00:13:19.444 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:13:19.547 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:13:19.589 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 00:13:19.609 +03:00 [DBG] Connection id "0HN6R9DH04U9L" completed keep alive response.
2024-09-23 00:13:19.612 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 212.4146ms
2024-09-23 00:13:19.623 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 00:13:19.782 +03:00 [DBG] Connection id "0HN6R9DH04U9L" received FIN.
2024-09-23 00:13:19.786 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/favicon.ico - null null
2024-09-23 00:13:19.787 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2024-09-23 00:13:19.787 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:13:19.790 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:13:19.791 +03:00 [DBG] Connection id "0HN6R9DH04U9L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 00:13:19.806 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 00:13:19.823 +03:00 [DBG] Connection id "0HN6R9DH04U9L" disconnecting.
2024-09-23 00:13:19.824 +03:00 [DBG] Connection id "0HN6R9DH04U9L" completed keep alive response.
2024-09-23 00:13:19.824 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/favicon.ico - 404 0 null 38.3517ms
2024-09-23 00:13:19.825 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/favicon.ico, Response status code: 404
2024-09-23 00:13:19.830 +03:00 [DBG] Connection id "0HN6R9DH04U9L" stopped.
2024-09-23 00:13:27.125 +03:00 [DBG] Connection id "0HN6R9DH04U9M" accepted.
2024-09-23 00:13:27.126 +03:00 [DBG] Connection id "0HN6R9DH04U9M" started.
2024-09-23 00:13:27.127 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/ - null null
2024-09-23 00:13:27.128 +03:00 [DBG] No candidates found for the request path '/swagger/'
2024-09-23 00:13:27.128 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:13:27.131 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:13:27.132 +03:00 [DBG] Connection id "0HN6R9DH04U9M" completed keep alive response.
2024-09-23 00:13:27.132 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/ - 301 0 null 5.0453ms
2024-09-23 00:13:27.139 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/index.html - null null
2024-09-23 00:13:27.140 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-23 00:13:27.140 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:13:27.140 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:13:27.204 +03:00 [DBG] Connection id "0HN6R9DH04U9M" completed keep alive response.
2024-09-23 00:13:27.204 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/index.html - 200 null text/html;charset=utf-8 64.3134ms
2024-09-23 00:13:27.245 +03:00 [DBG] Connection id "0HN6R9DH04U9M" received FIN.
2024-09-23 00:13:27.245 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/swagger-ui.css - null null
2024-09-23 00:13:27.245 +03:00 [DBG] Connection id "0HN6R9DH04U9M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 00:13:27.246 +03:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-09-23 00:13:27.246 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:13:27.246 +03:00 [DBG] Connection id "0HN6R9DH04U9M" disconnecting.
2024-09-23 00:13:27.246 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:13:27.253 +03:00 [DBG] The file transmission was cancelled
System.OperationCanceledException: The operation was canceled.
   at System.Threading.CancellationToken.ThrowOperationCanceledException()
   at System.Threading.CancellationToken.ThrowIfCancellationRequested()
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2024-09-23 00:13:27.269 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-09-23 00:13:27.269 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/swagger-ui.css - 499 144929 text/css 24.1579ms
2024-09-23 00:13:27.270 +03:00 [DBG] Connection id "0HN6R9DH04U9M" stopped.
2024-09-23 00:13:27.378 +03:00 [DBG] Connection id "0HN6R9DH04U9N" received FIN.
2024-09-23 00:13:27.379 +03:00 [DBG] Connection id "0HN6R9DH04U9N" accepted.
2024-09-23 00:13:27.379 +03:00 [DBG] Connection id "0HN6R9DH04U9N" started.
2024-09-23 00:13:27.380 +03:00 [DBG] Connection id "0HN6R9DH04U9N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 00:13:27.380 +03:00 [DBG] Connection id "0HN6R9DH04U9N" disconnecting.
2024-09-23 00:13:27.380 +03:00 [DBG] Connection id "0HN6R9DH04U9N" stopped.
2024-09-23 00:13:27.466 +03:00 [DBG] Connection id "0HN6R9DH04U9O" accepted.
2024-09-23 00:13:27.466 +03:00 [DBG] Connection id "0HN6R9DH04U9O" started.
2024-09-23 00:13:27.466 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - null null
2024-09-23 00:13:27.466 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-23 00:13:27.467 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:13:27.467 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:13:27.558 +03:00 [DBG] Connection id "0HN6R9DH04U9O" completed keep alive response.
2024-09-23 00:13:27.558 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 91.6852ms
2024-09-23 00:19:01.504 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:19:01.625 +03:00 [DBG] Hosting starting
2024-09-23 00:19:01.656 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:19:01.665 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:19:01.670 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:19:01.671 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:19:01.675 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:19:01.679 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:19:01.679 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:19:01.685 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:19:01.688 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:19:01.698 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:19:01.698 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:19:01.707 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:19:01.708 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:19:01.804 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:19:01.804 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:19:01.805 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:19:01.805 +03:00 [INF] Hosting environment: Development
2024-09-23 00:19:01.805 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:19:01.805 +03:00 [DBG] Hosting started
2024-09-23 00:19:02.140 +03:00 [DBG] Connection id "0HN6R9GN5ISLH" accepted.
2024-09-23 00:19:02.143 +03:00 [DBG] Connection id "0HN6R9GN5ISLH" started.
2024-09-23 00:19:02.184 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 00:19:02.187 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:19:02.204 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 00:19:02.205 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:19:02.296 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:19:02.326 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 00:19:02.338 +03:00 [DBG] Connection id "0HN6R9GN5ISLH" completed keep alive response.
2024-09-23 00:19:02.340 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 157.0976ms
2024-09-23 00:19:02.347 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 00:19:08.916 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/index.html - null null
2024-09-23 00:19:08.917 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-23 00:19:08.917 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:19:08.918 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:19:09.000 +03:00 [DBG] Connection id "0HN6R9GN5ISLH" completed keep alive response.
2024-09-23 00:19:09.000 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/index.html - 200 null text/html;charset=utf-8 83.7162ms
2024-09-23 00:19:09.212 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - null null
2024-09-23 00:19:09.213 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-23 00:19:09.213 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:19:09.214 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:19:09.302 +03:00 [DBG] Connection id "0HN6R9GN5ISLH" completed keep alive response.
2024-09-23 00:19:09.302 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 89.9386ms
2024-09-23 00:19:42.346 +03:00 [DBG] Config reload token fired. Checking for changes...
2024-09-23 00:19:49.028 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:19:49.138 +03:00 [DBG] Hosting starting
2024-09-23 00:19:49.165 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:19:49.176 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:19:49.180 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:19:49.180 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:19:49.183 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:19:49.187 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:19:49.187 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:19:49.192 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:19:49.194 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:19:49.201 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:19:49.201 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:19:49.207 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:19:49.208 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:19:49.272 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:19:49.272 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:19:49.272 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:19:49.272 +03:00 [INF] Hosting environment: Development
2024-09-23 00:19:49.272 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:19:49.273 +03:00 [DBG] Hosting started
2024-09-23 00:19:49.502 +03:00 [DBG] Connection id "0HN6R9H5992G9" accepted.
2024-09-23 00:19:49.504 +03:00 [DBG] Connection id "0HN6R9H5992G9" started.
2024-09-23 00:19:49.536 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 00:19:49.540 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:19:49.555 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 00:19:49.556 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:19:49.623 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:19:49.639 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 00:19:49.647 +03:00 [DBG] Connection id "0HN6R9H5992G9" completed keep alive response.
2024-09-23 00:19:49.648 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 113.1306ms
2024-09-23 00:19:49.653 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 00:19:57.285 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/index.html - null null
2024-09-23 00:19:57.285 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-23 00:19:57.285 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:19:57.286 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:19:57.355 +03:00 [DBG] Connection id "0HN6R9H5992G9" completed keep alive response.
2024-09-23 00:19:57.355 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/index.html - 200 null text/html;charset=utf-8 70.5598ms
2024-09-23 00:19:57.597 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - null null
2024-09-23 00:19:57.597 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-23 00:19:57.597 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:19:57.599 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:19:57.690 +03:00 [DBG] Connection id "0HN6R9H5992G9" completed keep alive response.
2024-09-23 00:19:57.690 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 93.1677ms
2024-09-23 00:20:00.109 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDAwOjIwOjAwIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=34fbe8a1-6aba-4611-b387-68f407b7f29f&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=035cb6f4-c7dc-4b7b-a6f6-0606880fdf68.34fbe8a1-6aba-4611-b387-68f407b7f29f.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 00:20:00.109 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 00:20:00.109 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:20:00.110 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:20:00.122 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 00:20:00.122 +03:00 [DBG] Connection id "0HN6R9H5992G9" completed keep alive response.
2024-09-23 00:20:00.123 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDAwOjIwOjAwIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=34fbe8a1-6aba-4611-b387-68f407b7f29f&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=035cb6f4-c7dc-4b7b-a6f6-0606880fdf68.34fbe8a1-6aba-4611-b387-68f407b7f29f.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 13.4569ms
2024-09-23 00:20:07.236 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 00:20:07.240 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:20:07.242 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:20:07.243 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 00:20:07.554 +03:00 [INF] Successfully validated the token.
2024-09-23 00:20:07.555 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:20:07.557 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:20:07.558 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 00:20:07.577 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:20:07.578 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:20:07.578 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:20:07.579 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:20:07.579 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:20:07.579 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:20:07.582 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:20:07.660 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:20:07.667 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 00:20:07.669 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 00:20:07.672 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 00:20:07.673 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 00:20:07.674 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 00:20:07.675 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 00:20:07.676 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 00:20:07.676 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 00:20:07.677 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 00:20:07.684 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 00:20:07.784 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback', configuration added for 'Naming:UseNamingConvention'.
2024-09-23 00:20:08.038 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:08.046 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:08.181 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:08.182 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:08.204 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:20:08.205 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:20:08.276 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:20:08.298 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:20:08.298 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:20:08.427 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:20:08.483 +03:00 [DBG] Compiling query expression: 
'DbSet<ContentPost>()
    .Include(p => p.Tags)
    .Include(g => g.ReaderGroup)
    .ThenInclude(g => g.Users)
    .Include(g => g.EditorGroup)
    .ThenInclude(g => g.Users)
    .Include(g => g.OwnerGroup)
    .ThenInclude(g => g.Users)
    .AsTracking()
    .Where(r => ((IAuthorizedResource)r).IsPublic && !(((IAuthorizedResource)r).IsDraft) || ((IAuthorizedResource)r).OwnerUserId == __userId_0 || ((IAuthorizedResource)r).ReaderGroup != null && ((IAuthorizedResource)r).ReaderGroup.Users
        .Any(u => u.Id == __userId_0) || ((IAuthorizedResource)r).EditorGroup != null && ((IAuthorizedResource)r).EditorGroup.Users
        .Any(u => u.Id == __userId_0) || ((IAuthorizedResource)r).OwnerGroup != null && ((IAuthorizedResource)r).OwnerGroup.Users
        .Any(u => u.Id == __userId_0))
    .Skip(__p_1)
    .Take(__p_2)'
2024-09-23 00:20:08.568 +03:00 [DBG] Including navigation: 'ContentPost.Tags'.
2024-09-23 00:20:08.569 +03:00 [DBG] Including navigation: 'ContentPost.ReaderGroup'.
2024-09-23 00:20:08.570 +03:00 [DBG] Including navigation: 'UserGroup.Users'.
2024-09-23 00:20:08.570 +03:00 [DBG] Including navigation: 'ContentPost.EditorGroup'.
2024-09-23 00:20:08.570 +03:00 [DBG] Including navigation: 'UserGroup.Users'.
2024-09-23 00:20:08.570 +03:00 [DBG] Including navigation: 'ContentPost.OwnerGroup'.
2024-09-23 00:20:08.570 +03:00 [DBG] Including navigation: 'UserGroup.Users'.
2024-09-23 00:20:08.676 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-23 00:20:08.677 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-23 00:20:08.800 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-23 00:20:08.825 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ContentPost>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ContentPost.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ContentPost.CanUsersEditTags (bool) Required, 1], [Property: ContentPost.Description (string) Required MaxLength(2048), 2], [Property: ContentPost.EditorGroupId (Guid?) FK Index, 3], [Property: ContentPost.IsDraft (bool) Required, 4], [Property: ContentPost.IsPublic (bool) Required, 5], [Property: ContentPost.Name (string) Required MaxLength(128), 6], [Property: ContentPost.OwnerGroupId (Guid?) FK Index, 7], [Property: ContentPost.OwnerUserId (string) Required FK Index MaxLength(36), 8], [Property: ContentPost.ReaderGroupId (Guid?) FK Index, 9] }
            1 -> 0
            2 -> 10
            3 -> 11
            4 -> 12
            5 -> Dictionary<IProperty, int> { [Property: ContentPostTag (Dictionary<string, object>).ContentPostsId (no field, Guid) Indexer Required PK FK AfterSave:Throw, 13], [Property: ContentPostTag (Dictionary<string, object>).TagsName (no field, string) Indexer Required PK FK Index AfterSave:Throw, 14] }
            6 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 15], [Property: Tag.Description (string) Required MaxLength(2048), 16], [Property: Tag.ParentName (string) FK Index MaxLength(128), 17] }
            7 -> 13
            8 -> 14
            9 -> 15
            10 -> Dictionary<IProperty, int> { [Property: UserGroup.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 10], [Property: UserGroup.EditorGroupId (Guid?) FK Index, 18], [Property: UserGroup.IsDraft (bool) Required, 19], [Property: UserGroup.IsPublic (bool) Required, 20], [Property: UserGroup.Name (string) Required MaxLength(128), 21], [Property: UserGroup.OwnerGroupId (Guid?) FK Index, 22], [Property: UserGroup.OwnerUserId (string) Required FK Index MaxLength(36), 23], [Property: UserGroup.ReaderGroupId (Guid?) FK Index, 24] }
            11 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(36), 25], [Property: User.GroupId (Guid) Required FK Index, 26] }
            12 -> 25
            13 -> Dictionary<IProperty, int> { [Property: UserGroup.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: UserGroup.EditorGroupId (Guid?) FK Index, 27], [Property: UserGroup.IsDraft (bool) Required, 28], [Property: UserGroup.IsPublic (bool) Required, 29], [Property: UserGroup.Name (string) Required MaxLength(128), 30], [Property: UserGroup.OwnerGroupId (Guid?) FK Index, 31], [Property: UserGroup.OwnerUserId (string) Required FK Index MaxLength(36), 32], [Property: UserGroup.ReaderGroupId (Guid?) FK Index, 33] }
            14 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(36), 34], [Property: User.GroupId (Guid) Required FK Index, 35] }
            15 -> 34
            16 -> Dictionary<IProperty, int> { [Property: UserGroup.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: UserGroup.EditorGroupId (Guid?) FK Index, 36], [Property: UserGroup.IsDraft (bool) Required, 37], [Property: UserGroup.IsPublic (bool) Required, 38], [Property: UserGroup.Name (string) Required MaxLength(128), 39], [Property: UserGroup.OwnerGroupId (Guid?) FK Index, 40], [Property: UserGroup.OwnerUserId (string) Required FK Index MaxLength(36), 41], [Property: UserGroup.ReaderGroupId (Guid?) FK Index, 42] }
            17 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(36), 43], [Property: User.GroupId (Guid) Required FK Index, 44] }
            18 -> 43
        SELECT t.id, t.can_users_edit_tags, t.description, t.editor_group_id, t.is_draft, t.is_public, t.name, t.owner_group_id, t.owner_user_id, t.reader_group_id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, t0.description, t0.parent_name, t.editor_group_id0, t.is_draft0, t.is_public0, t.name0, t.owner_group_id0, t.owner_user_id0, t.reader_group_id0, u5.id, u5.group_id, t.editor_group_id1, t.is_draft1, t.is_public1, t.name1, t.owner_group_id1, t.owner_user_id1, t.reader_group_id1, u6.id, u6.group_id, t.editor_group_id2, t.is_draft2, t.is_public2, t.name2, t.owner_group_id2, t.owner_user_id2, t.reader_group_id2, u7.id, u7.group_id
        FROM 
        (
            SELECT c.id, c.can_users_edit_tags, c.description, c.editor_group_id, c.is_draft, c.is_public, c.name, c.owner_group_id, c.owner_user_id, c.reader_group_id, u.id AS id0, u.editor_group_id AS editor_group_id0, u.is_draft AS is_draft0, u.is_public AS is_public0, u.name AS name0, u.owner_group_id AS owner_group_id0, u.owner_user_id AS owner_user_id0, u.reader_group_id AS reader_group_id0, u0.id AS id1, u0.editor_group_id AS editor_group_id1, u0.is_draft AS is_draft1, u0.is_public AS is_public1, u0.name AS name1, u0.owner_group_id AS owner_group_id1, u0.owner_user_id AS owner_user_id1, u0.reader_group_id AS reader_group_id1, u1.id AS id2, u1.editor_group_id AS editor_group_id2, u1.is_draft AS is_draft2, u1.is_public AS is_public2, u1.name AS name2, u1.owner_group_id AS owner_group_id2, u1.owner_user_id AS owner_user_id2, u1.reader_group_id AS reader_group_id2
            FROM content_posts AS c
            LEFT JOIN user_groups AS u ON c.reader_group_id == u.id
            LEFT JOIN user_groups AS u0 ON c.editor_group_id == u0.id
            LEFT JOIN user_groups AS u1 ON c.owner_group_id == u1.id
            WHERE ((((c.is_public && Not(c.is_draft)) || (c.owner_user_id == @__userId_0)) || (Not(u.id == NULL) && EXISTS (
                SELECT 1
                FROM users AS u2
                WHERE ((u.id != NULL) && (u.id == u2.group_id)) && (u2.id == @__userId_0)))) || (Not(u0.id == NULL) && EXISTS (
                SELECT 1
                FROM users AS u3
                WHERE ((u0.id != NULL) && (u0.id == u3.group_id)) && (u3.id == @__userId_0)))) || (Not(u1.id == NULL) && EXISTS (
                SELECT 1
                FROM users AS u4
                WHERE ((u1.id != NULL) && (u1.id == u4.group_id)) && (u4.id == @__userId_0)))
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t
        LEFT JOIN 
        (
            SELECT c0.content_posts_id, c0.tags_name, t1.name, t1.description, t1.parent_name
            FROM content_post_tag AS c0
            INNER JOIN tags AS t1 ON c0.tags_name == t1.name
        ) AS t0 ON t.id == t0.content_posts_id
        LEFT JOIN users AS u5 ON t.id0 == u5.group_id
        LEFT JOIN users AS u6 ON t.id1 == u6.group_id
        LEFT JOIN users AS u7 ON t.id2 == u7.group_id
        ORDER BY t.id ASC, t.id0 ASC, t.id1 ASC, t.id2 ASC, t0.content_posts_id ASC, t0.tags_name ASC, t0.name ASC, u5.id ASC, u6.id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ContentPost>, 
    ContentManager.Api.Persistence.Data.ApplicationContext, 
    False, 
    True, 
    True
)'
2024-09-23 00:20:08.863 +03:00 [DBG] Creating DbConnection.
2024-09-23 00:20:08.867 +03:00 [DBG] Created DbConnection. (2ms).
2024-09-23 00:20:08.870 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:20:08.987 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:20:08.990 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:20:08.996 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-23 00:20:09.002 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2024-09-23 00:20:09.009 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='ffcd9487-b51a-4566-b399-4d160c4f8fb5', @__p_2='20', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.can_users_edit_tags, t.description, t.editor_group_id, t.is_draft, t.is_public, t.name, t.owner_group_id, t.owner_user_id, t.reader_group_id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, t0.description, t0.parent_name, t.editor_group_id0, t.is_draft0, t.is_public0, t.name0, t.owner_group_id0, t.owner_user_id0, t.reader_group_id0, u5.id, u5.group_id, t.editor_group_id1, t.is_draft1, t.is_public1, t.name1, t.owner_group_id1, t.owner_user_id1, t.reader_group_id1, u6.id, u6.group_id, t.editor_group_id2, t.is_draft2, t.is_public2, t.name2, t.owner_group_id2, t.owner_user_id2, t.reader_group_id2, u7.id, u7.group_id
FROM (
    SELECT c.id, c.can_users_edit_tags, c.description, c.editor_group_id, c.is_draft, c.is_public, c.name, c.owner_group_id, c.owner_user_id, c.reader_group_id, u.id AS id0, u.editor_group_id AS editor_group_id0, u.is_draft AS is_draft0, u.is_public AS is_public0, u.name AS name0, u.owner_group_id AS owner_group_id0, u.owner_user_id AS owner_user_id0, u.reader_group_id AS reader_group_id0, u0.id AS id1, u0.editor_group_id AS editor_group_id1, u0.is_draft AS is_draft1, u0.is_public AS is_public1, u0.name AS name1, u0.owner_group_id AS owner_group_id1, u0.owner_user_id AS owner_user_id1, u0.reader_group_id AS reader_group_id1, u1.id AS id2, u1.editor_group_id AS editor_group_id2, u1.is_draft AS is_draft2, u1.is_public AS is_public2, u1.name AS name2, u1.owner_group_id AS owner_group_id2, u1.owner_user_id AS owner_user_id2, u1.reader_group_id AS reader_group_id2
    FROM content_posts AS c
    LEFT JOIN user_groups AS u ON c.reader_group_id = u.id
    LEFT JOIN user_groups AS u0 ON c.editor_group_id = u0.id
    LEFT JOIN user_groups AS u1 ON c.owner_group_id = u1.id
    WHERE (c.is_public AND NOT (c.is_draft)) OR c.owner_user_id = @__userId_0 OR (u.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u2
        WHERE u.id IS NOT NULL AND u.id = u2.group_id AND u2.id = @__userId_0)) OR (u0.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u3
        WHERE u0.id IS NOT NULL AND u0.id = u3.group_id AND u3.id = @__userId_0)) OR (u1.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u4
        WHERE u1.id IS NOT NULL AND u1.id = u4.group_id AND u4.id = @__userId_0))
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0.content_posts_id, c0.tags_name, t1.name, t1.description, t1.parent_name
    FROM content_post_tag AS c0
    INNER JOIN tags AS t1 ON c0.tags_name = t1.name
) AS t0 ON t.id = t0.content_posts_id
LEFT JOIN users AS u5 ON t.id0 = u5.group_id
LEFT JOIN users AS u6 ON t.id1 = u6.group_id
LEFT JOIN users AS u7 ON t.id2 = u7.group_id
ORDER BY t.id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, u5.id, u6.id
2024-09-23 00:20:09.078 +03:00 [INF] Executed DbCommand (71ms) [Parameters=[@__userId_0='ffcd9487-b51a-4566-b399-4d160c4f8fb5', @__p_2='20', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.can_users_edit_tags, t.description, t.editor_group_id, t.is_draft, t.is_public, t.name, t.owner_group_id, t.owner_user_id, t.reader_group_id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, t0.description, t0.parent_name, t.editor_group_id0, t.is_draft0, t.is_public0, t.name0, t.owner_group_id0, t.owner_user_id0, t.reader_group_id0, u5.id, u5.group_id, t.editor_group_id1, t.is_draft1, t.is_public1, t.name1, t.owner_group_id1, t.owner_user_id1, t.reader_group_id1, u6.id, u6.group_id, t.editor_group_id2, t.is_draft2, t.is_public2, t.name2, t.owner_group_id2, t.owner_user_id2, t.reader_group_id2, u7.id, u7.group_id
FROM (
    SELECT c.id, c.can_users_edit_tags, c.description, c.editor_group_id, c.is_draft, c.is_public, c.name, c.owner_group_id, c.owner_user_id, c.reader_group_id, u.id AS id0, u.editor_group_id AS editor_group_id0, u.is_draft AS is_draft0, u.is_public AS is_public0, u.name AS name0, u.owner_group_id AS owner_group_id0, u.owner_user_id AS owner_user_id0, u.reader_group_id AS reader_group_id0, u0.id AS id1, u0.editor_group_id AS editor_group_id1, u0.is_draft AS is_draft1, u0.is_public AS is_public1, u0.name AS name1, u0.owner_group_id AS owner_group_id1, u0.owner_user_id AS owner_user_id1, u0.reader_group_id AS reader_group_id1, u1.id AS id2, u1.editor_group_id AS editor_group_id2, u1.is_draft AS is_draft2, u1.is_public AS is_public2, u1.name AS name2, u1.owner_group_id AS owner_group_id2, u1.owner_user_id AS owner_user_id2, u1.reader_group_id AS reader_group_id2
    FROM content_posts AS c
    LEFT JOIN user_groups AS u ON c.reader_group_id = u.id
    LEFT JOIN user_groups AS u0 ON c.editor_group_id = u0.id
    LEFT JOIN user_groups AS u1 ON c.owner_group_id = u1.id
    WHERE (c.is_public AND NOT (c.is_draft)) OR c.owner_user_id = @__userId_0 OR (u.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u2
        WHERE u.id IS NOT NULL AND u.id = u2.group_id AND u2.id = @__userId_0)) OR (u0.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u3
        WHERE u0.id IS NOT NULL AND u0.id = u3.group_id AND u3.id = @__userId_0)) OR (u1.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u4
        WHERE u1.id IS NOT NULL AND u1.id = u4.group_id AND u4.id = @__userId_0))
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0.content_posts_id, c0.tags_name, t1.name, t1.description, t1.parent_name
    FROM content_post_tag AS c0
    INNER JOIN tags AS t1 ON c0.tags_name = t1.name
) AS t0 ON t.id = t0.content_posts_id
LEFT JOIN users AS u5 ON t.id0 = u5.group_id
LEFT JOIN users AS u6 ON t.id1 = u6.group_id
LEFT JOIN users AS u7 ON t.id2 = u7.group_id
ORDER BY t.id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, u5.id, u6.id
2024-09-23 00:20:09.087 +03:00 [DBG] Closing data reader to 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:20:09.094 +03:00 [DBG] A data reader for 'content_manager' on server 'tcp://localhost:5432' is being disposed after spending 11ms reading results.
2024-09-23 00:20:09.099 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:20:09.103 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (3ms).
2024-09-23 00:20:09.166 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 00:20:09.168 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 00:20:09.168 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 00:20:09.168 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 00:20:09.169 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 00:20:09.170 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse, ContentManager.Api.Contracts.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 00:20:09.182 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 1598.7258ms
2024-09-23 00:20:09.182 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 00:20:09.184 +03:00 [DBG] Connection id "0HN6R9H5992G9" completed keep alive response.
2024-09-23 00:20:09.186 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:20:09.190 +03:00 [DBG] Disposing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:20:09.191 +03:00 [DBG] Disposed connection to database 'content_manager' on server 'tcp://localhost:5432' (1ms).
2024-09-23 00:20:09.192 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 200 null application/json; charset=utf-8 1955.5533ms
2024-09-23 00:20:47.358 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:20:47.358 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:20:47.358 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:20:47.358 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:20:47.359 +03:00 [INF] Successfully validated the token.
2024-09-23 00:20:47.359 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:20:47.365 +03:00 [DBG] Authorization was successful.
2024-09-23 00:20:47.365 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:20:47.365 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:20:47.369 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:20:47.369 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:20:47.369 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:20:47.369 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:20:47.369 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:20:47.369 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:20:47.369 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:20:47.371 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:20:47.372 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:20:47.373 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:20:47.375 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:20:47.383 +03:00 [DBG] Connection id "0HN6R9H5992G9", Request id "0HN6R9H5992G9:00000006": started reading request body.
2024-09-23 00:20:47.383 +03:00 [DBG] Connection id "0HN6R9H5992G9", Request id "0HN6R9H5992G9:00000006": done reading request body.
2024-09-23 00:20:47.389 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:20:47.389 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:20:47.389 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:20:47.389 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:20:47.393 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:20:54.054 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:20:54.081 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:54.084 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:54.126 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:54.127 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:54.136 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:20:54.136 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:20:54.156 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:20:54.159 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:20:54.159 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:20:54.207 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:20:54.266 +03:00 [DBG] 'ApplicationContext' generated value '"07ac8a9c-ef58-4e12-8586-2f0083173132"' for the property 'ContentPost.Id'.
2024-09-23 00:20:54.345 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: 07ac8a9c-ef58-4e12-8586-2f0083173132}'.
2024-09-23 00:20:58.214 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:20:58.224 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:58.225 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:58.253 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:58.253 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:20:58.256 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:20:58.257 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:20:58.264 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:20:58.265 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:20:58.265 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:20:58.281 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:20:58.285 +03:00 [DBG] Compiling query expression: 
'DbSet<Tag>()
    .Include(t => t.Parent)
    .SingleOrDefault(u => u.Name == __name_0)'
2024-09-23 00:20:58.287 +03:00 [DBG] Including navigation: 'Tag.Parent'.
2024-09-23 00:20:58.301 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tag>(
    asyncEnumerable: new SingleQueryingEnumerable<Tag>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 0], [Property: Tag.Description (string) Required MaxLength(2048), 1], [Property: Tag.ParentName (string) FK Index MaxLength(128), 2] }
                1 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 3], [Property: Tag.Description (string) Required MaxLength(2048), 4], [Property: Tag.ParentName (string) FK Index MaxLength(128), 5] }
            SELECT TOP(2) t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
            FROM tags AS t
            LEFT JOIN tags AS t0 ON t.parent_name == t0.name
            WHERE t.name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tag>, 
        ContentManager.Api.Persistence.Data.ApplicationContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 00:20:58.303 +03:00 [DBG] Creating DbConnection.
2024-09-23 00:20:58.304 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-23 00:20:58.304 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:20:58.504 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:20:58.504 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:20:58.505 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:20:58.505 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:20:58.505 +03:00 [DBG] Executing DbCommand [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:20:58.511 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:20:58.539 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:20:58.544 +03:00 [DBG] Closing data reader to 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:20:58.544 +03:00 [DBG] A data reader for 'content_manager' on server 'tcp://localhost:5432' is being disposed after spending 32ms reading results.
2024-09-23 00:20:58.544 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:20:58.544 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:21:06.389 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:21:06.403 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:21:22.909 +03:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2024-09-23 00:21:22.911 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:21:22.911 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:21:22.919 +03:00 [DBG] SaveChanges completed for 'ApplicationContext' with 0 entities written to the database.
2024-09-23 00:21:57.252 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 00:21:57.253 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 00:21:57.253 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 00:21:57.253 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 00:21:57.253 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 00:21:57.253 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-09-23 00:21:57.257 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 69887.6133ms
2024-09-23 00:21:57.257 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:21:57.257 +03:00 [DBG] Connection id "0HN6R9H5992G9" completed keep alive response.
2024-09-23 00:21:57.258 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:21:57.258 +03:00 [DBG] Disposing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:21:57.258 +03:00 [DBG] Disposed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:21:57.258 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:21:57.258 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 200 null application/json; charset=utf-8 69900.0358ms
2024-09-23 00:22:25.517 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:22:25.663 +03:00 [DBG] Hosting starting
2024-09-23 00:22:25.710 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:22:25.725 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:22:25.733 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:22:25.734 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:22:25.738 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:22:25.745 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:22:25.746 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:22:25.756 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:22:25.760 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:22:25.776 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:22:25.776 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:22:25.788 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:22:25.790 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:22:25.916 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:22:25.916 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:22:25.917 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:22:25.917 +03:00 [INF] Hosting environment: Development
2024-09-23 00:22:25.917 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:22:25.917 +03:00 [DBG] Hosting started
2024-09-23 00:22:26.374 +03:00 [DBG] Connection id "0HN6R9IK1A2LB" accepted.
2024-09-23 00:22:26.379 +03:00 [DBG] Connection id "0HN6R9IK1A2LB" started.
2024-09-23 00:22:26.435 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 00:22:26.439 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:22:26.465 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 00:22:26.466 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:22:26.576 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:22:26.612 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 00:22:26.625 +03:00 [DBG] Connection id "0HN6R9IK1A2LB" completed keep alive response.
2024-09-23 00:22:26.627 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 193.1482ms
2024-09-23 00:22:26.634 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 00:22:44.308 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:22:44.311 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:22:44.313 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:22:44.313 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:22:44.625 +03:00 [INF] Successfully validated the token.
2024-09-23 00:22:44.626 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:22:44.630 +03:00 [DBG] Authorization was successful.
2024-09-23 00:22:44.631 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:22:44.631 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:22:44.648 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:22:44.651 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:22:44.651 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:22:44.652 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:22:44.652 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:22:44.652 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:22:44.655 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:22:44.739 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:22:44.743 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:22:44.745 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:22:44.746 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:22:44.771 +03:00 [DBG] Connection id "0HN6R9IK1A2LB", Request id "0HN6R9IK1A2LB:00000002": started reading request body.
2024-09-23 00:22:44.772 +03:00 [DBG] Connection id "0HN6R9IK1A2LB", Request id "0HN6R9IK1A2LB:00000002": done reading request body.
2024-09-23 00:22:44.777 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:22:44.777 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:22:44.777 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:22:44.777 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:22:44.786 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:22:51.785 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback', configuration added for 'Naming:UseNamingConvention'.
2024-09-23 00:22:52.357 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:22:52.366 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:22:52.541 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:22:52.543 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:22:52.574 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:22:52.574 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:22:52.673 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:22:52.704 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:22:52.704 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:22:52.852 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:22:52.986 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:22:52.989 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:23:03.252 +03:00 [DBG] 'ApplicationContext' generated value '"45140c8e-d6e1-4bb4-beb4-800eae0bb803"' for the property 'ContentPost.Id'.
2024-09-23 00:23:03.356 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: 45140c8e-d6e1-4bb4-beb4-800eae0bb803}'.
2024-09-23 00:23:50.176 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:23:50.307 +03:00 [DBG] Hosting starting
2024-09-23 00:23:50.346 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:23:50.356 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:23:50.362 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:23:50.363 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:23:50.366 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:23:50.373 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:23:50.374 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:23:50.380 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:23:50.383 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:23:50.392 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:23:50.392 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:23:50.400 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:23:50.401 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:23:50.509 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:23:50.509 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:23:50.510 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:23:50.510 +03:00 [INF] Hosting environment: Development
2024-09-23 00:23:50.510 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:23:50.510 +03:00 [DBG] Hosting started
2024-09-23 00:23:50.836 +03:00 [DBG] Connection id "0HN6R9JD6PSDL" accepted.
2024-09-23 00:23:50.839 +03:00 [DBG] Connection id "0HN6R9JD6PSDL" started.
2024-09-23 00:23:50.893 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 00:23:50.898 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:23:50.922 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 00:23:50.923 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:23:51.016 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:23:51.040 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 00:23:51.053 +03:00 [DBG] Connection id "0HN6R9JD6PSDL" completed keep alive response.
2024-09-23 00:23:51.055 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 164.2625ms
2024-09-23 00:23:51.059 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 00:23:55.406 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:23:55.409 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:23:55.411 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:23:55.412 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:23:55.710 +03:00 [INF] Successfully validated the token.
2024-09-23 00:23:55.712 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:23:55.718 +03:00 [DBG] Authorization was successful.
2024-09-23 00:23:55.720 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:23:55.721 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:23:55.746 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:23:55.749 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:23:55.750 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:23:55.751 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:23:55.752 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:23:55.753 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:23:55.756 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:23:55.858 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:23:55.862 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:23:55.863 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:23:55.864 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:23:55.892 +03:00 [DBG] Connection id "0HN6R9JD6PSDL", Request id "0HN6R9JD6PSDL:00000002": started reading request body.
2024-09-23 00:23:55.892 +03:00 [DBG] Connection id "0HN6R9JD6PSDL", Request id "0HN6R9JD6PSDL:00000002": done reading request body.
2024-09-23 00:23:55.898 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:23:55.898 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:23:55.898 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:23:55.898 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:23:55.907 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:24:01.436 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback', configuration added for 'Naming:UseNamingConvention'.
2024-09-23 00:24:01.723 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:24:01.730 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:24:01.876 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:24:01.878 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:24:01.913 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:24:01.913 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:24:02.043 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:24:02.070 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:24:02.071 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:24:02.229 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:24:02.272 +03:00 [DBG] 'ApplicationContext' generated value '"527af7b7-8034-45be-bf1b-cc6a75fce376"' for the property 'ContentPost.Id'.
2024-09-23 00:24:02.342 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: 527af7b7-8034-45be-bf1b-cc6a75fce376}'.
2024-09-23 00:24:45.753 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:24:45.898 +03:00 [DBG] Hosting starting
2024-09-23 00:24:45.936 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:24:45.943 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:24:45.949 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:24:45.950 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:24:45.953 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:24:45.961 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:24:45.961 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:24:45.967 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:24:45.969 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:24:45.978 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:24:45.979 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:24:45.985 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:24:45.986 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:24:46.091 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:24:46.091 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:24:46.092 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:24:46.092 +03:00 [INF] Hosting environment: Development
2024-09-23 00:24:46.092 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:24:46.092 +03:00 [DBG] Hosting started
2024-09-23 00:24:46.447 +03:00 [DBG] Connection id "0HN6R9JTP4LHQ" accepted.
2024-09-23 00:24:46.449 +03:00 [DBG] Connection id "0HN6R9JTP4LHQ" started.
2024-09-23 00:24:46.487 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 00:24:46.492 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:24:46.509 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 00:24:46.510 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:24:46.602 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:24:46.622 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 00:24:46.635 +03:00 [DBG] Connection id "0HN6R9JTP4LHQ" completed keep alive response.
2024-09-23 00:24:46.637 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 151.4421ms
2024-09-23 00:24:46.643 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 00:24:59.984 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:24:59.989 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:24:59.994 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:24:59.995 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:25:00.395 +03:00 [INF] Successfully validated the token.
2024-09-23 00:25:00.396 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:25:00.401 +03:00 [DBG] Authorization was successful.
2024-09-23 00:25:00.402 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:25:00.403 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:25:00.426 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:25:00.428 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:25:00.429 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:25:00.430 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:25:00.430 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:25:00.430 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:25:00.432 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:25:00.534 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:25:00.538 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:25:00.542 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:25:00.544 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:25:00.579 +03:00 [DBG] Connection id "0HN6R9JTP4LHQ", Request id "0HN6R9JTP4LHQ:00000002": started reading request body.
2024-09-23 00:25:00.579 +03:00 [DBG] Connection id "0HN6R9JTP4LHQ", Request id "0HN6R9JTP4LHQ:00000002": done reading request body.
2024-09-23 00:25:00.588 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:25:00.589 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:25:00.589 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:25:00.589 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:25:00.601 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:29:49.514 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:29:49.630 +03:00 [DBG] Hosting starting
2024-09-23 00:29:49.665 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:29:49.673 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:29:49.678 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:29:49.678 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:29:49.681 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:29:49.685 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:29:49.685 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:29:49.690 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:29:49.692 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:29:49.700 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:29:49.700 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:29:49.706 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:29:49.707 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:29:49.784 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:29:49.784 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:29:49.785 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:29:49.785 +03:00 [INF] Hosting environment: Development
2024-09-23 00:29:49.785 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:29:49.785 +03:00 [DBG] Hosting started
2024-09-23 00:29:50.050 +03:00 [DBG] Connection id "0HN6R9MO8HEJT" accepted.
2024-09-23 00:29:50.051 +03:00 [DBG] Connection id "0HN6R9MO8HEJT" started.
2024-09-23 00:29:50.116 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 00:29:50.126 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:29:50.163 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 00:29:50.165 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:29:50.255 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:29:50.274 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 00:29:50.282 +03:00 [DBG] Connection id "0HN6R9MO8HEJT" completed keep alive response.
2024-09-23 00:29:50.284 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 171.5031ms
2024-09-23 00:29:50.290 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 00:29:53.194 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:29:53.198 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:29:53.199 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:29:53.200 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:29:53.513 +03:00 [INF] Successfully validated the token.
2024-09-23 00:29:53.514 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:29:53.519 +03:00 [DBG] Authorization was successful.
2024-09-23 00:29:53.520 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:29:53.521 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:29:53.539 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:29:53.543 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:29:53.544 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:29:53.546 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:29:53.546 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:29:53.547 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:29:53.549 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:29:53.649 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:29:53.654 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:29:53.655 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:29:53.657 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:29:53.691 +03:00 [DBG] Connection id "0HN6R9MO8HEJT", Request id "0HN6R9MO8HEJT:00000002": started reading request body.
2024-09-23 00:29:53.691 +03:00 [DBG] Connection id "0HN6R9MO8HEJT", Request id "0HN6R9MO8HEJT:00000002": done reading request body.
2024-09-23 00:29:53.699 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:29:53.700 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:29:53.700 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:29:53.700 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:29:53.715 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:30:22.377 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback', configuration added for 'Naming:UseNamingConvention'.
2024-09-23 00:30:22.660 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:30:22.667 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:30:22.804 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:30:22.806 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:30:22.835 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:30:22.835 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:30:22.926 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:30:22.952 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:30:22.953 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:30:23.117 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:30:23.185 +03:00 [DBG] Compiling query expression: 
'DbSet<Tag>()
    .Include(t => t.Parent)
    .SingleOrDefault(u => u.Name == __name_0)'
2024-09-23 00:30:23.261 +03:00 [DBG] Including navigation: 'Tag.Parent'.
2024-09-23 00:30:23.474 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tag>(
    asyncEnumerable: new SingleQueryingEnumerable<Tag>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 0], [Property: Tag.Description (string) Required MaxLength(2048), 1], [Property: Tag.ParentName (string) FK Index MaxLength(128), 2] }
                1 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 3], [Property: Tag.Description (string) Required MaxLength(2048), 4], [Property: Tag.ParentName (string) FK Index MaxLength(128), 5] }
            SELECT TOP(2) t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
            FROM tags AS t
            LEFT JOIN tags AS t0 ON t.parent_name == t0.name
            WHERE t.name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tag>, 
        ContentManager.Api.Persistence.Data.ApplicationContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 00:30:23.512 +03:00 [DBG] Creating DbConnection.
2024-09-23 00:30:23.517 +03:00 [DBG] Created DbConnection. (3ms).
2024-09-23 00:30:23.520 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:30:28.879 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:30:28.882 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:30:28.888 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-23 00:30:28.896 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (13ms).
2024-09-23 00:30:28.903 +03:00 [DBG] Executing DbCommand [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:30:28.983 +03:00 [INF] Executed DbCommand (82ms) [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:30:29.037 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:30:29.060 +03:00 [DBG] Closing data reader to 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:30:29.069 +03:00 [DBG] A data reader for 'content_manager' on server 'tcp://localhost:5432' is being disposed after spending 80ms reading results.
2024-09-23 00:30:29.075 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:30:29.080 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (5ms).
2024-09-23 00:30:51.341 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:30:51.364 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:30:51.366 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:30:51.405 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:30:51.406 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:30:51.411 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:30:51.411 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:30:51.421 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:30:51.422 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:30:51.422 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:30:51.447 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:30:51.467 +03:00 [DBG] 'ApplicationContext' generated value '"5c599f7d-022b-4951-afd6-4c5f1a5594f3"' for the property 'ContentPost.Id'.
2024-09-23 00:30:51.511 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: 5c599f7d-022b-4951-afd6-4c5f1a5594f3}'.
2024-09-23 00:30:51.532 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:30:51.548 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: 5c599f7d-022b-4951-afd6-4c5f1a5594f3, TagsName: test}'.
2024-09-23 00:31:06.289 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:31:06.304 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'Tag.ContentPosts' on entity with key '{Name: test}'.
2024-09-23 00:31:06.348 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: 5c599f7d-022b-4951-afd6-4c5f1a5594f3}'.
2024-09-23 00:31:06.355 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: 5c599f7d-022b-4951-afd6-4c5f1a5594f3, TagsName: test}'.
2024-09-23 00:31:06.357 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:31:06.396 +03:00 [ERR] Access denied to update entity {"Id":"5c599f7d-022b-4951-afd6-4c5f1a5594f3","Name":"test","Description":"Test test","IsPublic":false,"IsDraft":false,"CanUsersEditTags":true,"ReaderGroupId":null,"ReaderGroup":null,"EditorGroupId":null,"EditorGroup":null,"OwnerGroupId":null,"OwnerGroup":null,"OwnerUserId":null,"Owner":null,"Tags":[{"Name":"test","Description":"","ParentName":null,"Parent":null,"ContentPosts":[{"Id":"5c599f7d-022b-4951-afd6-4c5f1a5594f3","Name":"test","Description":"Test test","IsPublic":false,"IsDraft":false,"CanUsersEditTags":true,"ReaderGroupId":null,"ReaderGroup":null,"EditorGroupId":null,"EditorGroup":null,"OwnerGroupId":null,"OwnerGroup":null,"OwnerUserId":null,"Owner":null,"Tags":[{"Name":"test","Description":"","ParentName":null,"Parent":null,"ContentPosts":[{"Id":"5c599f7d-022b-4951-afd6-4c5f1a5594f3","Name":"test","Description":"Test test","IsPublic":false,"IsDraft":false,"CanUsersEditTags":true,"ReaderGroupId":null,"ReaderGroup":null,"EditorGroupId":null,"EditorGroup":null,"OwnerGroupId":null,"OwnerGroup":null,"OwnerUserId":null,"Owner":null,"Tags":[null],"Attachments":null,"ContentPostCollections":null,"$type":"ContentPost"}],"$type":"Tag"}],"Attachments":null,"ContentPostCollections":null,"$type":"ContentPost"}],"$type":"Tag"}],"Attachments":null,"ContentPostCollections":null,"$type":"ContentPost"}
2024-09-23 00:31:06.551 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 73000.9971ms
2024-09-23 00:31:06.552 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:31:06.554 +03:00 [ERR] An unhandled exception has occurred while executing the request.
ContentManager.Api.Contracts.Domain.Exceptions.WriteAccessDeniedException: You are not allowed to write
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 26
   at ContentManager.Api.Application.Services.ContentPostService.CreateAsync(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 36
   at ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 00:31:06.579 +03:00 [DBG] Connection id "0HN6R9MO8HEJT" completed keep alive response.
2024-09-23 00:31:06.581 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:31:06.586 +03:00 [DBG] Disposing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:31:06.588 +03:00 [DBG] Disposed connection to database 'content_manager' on server 'tcp://localhost:5432' (3ms).
2024-09-23 00:31:06.589 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:31:06.589 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 500 null text/plain; charset=utf-8 73394.6004ms
2024-09-23 00:33:02.549 +03:00 [DBG] Connection id "0HN6R9MO8HEJT" received FIN.
2024-09-23 00:33:02.555 +03:00 [DBG] Connection id "0HN6R9MO8HEJT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 00:33:02.555 +03:00 [DBG] Connection id "0HN6R9MO8HEJT" disconnecting.
2024-09-23 00:33:02.557 +03:00 [DBG] Connection id "0HN6R9MO8HEJT" stopped.
2024-09-23 00:39:44.069 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:39:44.214 +03:00 [DBG] Hosting starting
2024-09-23 00:39:44.259 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:39:44.274 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:39:44.282 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:39:44.283 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:39:44.287 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:39:44.291 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:39:44.292 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:39:44.297 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:39:44.300 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:39:44.312 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:39:44.312 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:39:44.320 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:39:44.321 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:39:44.429 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:39:44.429 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:39:44.430 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:39:44.430 +03:00 [INF] Hosting environment: Development
2024-09-23 00:39:44.430 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:39:44.430 +03:00 [DBG] Hosting started
2024-09-23 00:39:44.816 +03:00 [DBG] Connection id "0HN6R9S9GK4TB" accepted.
2024-09-23 00:39:44.819 +03:00 [DBG] Connection id "0HN6R9S9GK4TB" started.
2024-09-23 00:39:44.877 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 00:39:44.883 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:39:44.904 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 00:39:44.905 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:39:45.009 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:39:45.029 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 00:39:45.042 +03:00 [DBG] Connection id "0HN6R9S9GK4TB" completed keep alive response.
2024-09-23 00:39:45.045 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 170.6744ms
2024-09-23 00:39:45.052 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 00:39:50.581 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:39:50.584 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:39:50.588 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:39:50.590 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:39:50.880 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', Current time: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-09-23 00:39:50.897 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', Current time: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
2024-09-23 00:39:50.901 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-09-23 00:39:50.905 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-23 00:39:50.912 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-23 00:39:50.913 +03:00 [DBG] Connection id "0HN6R9S9GK4TB" completed keep alive response.
2024-09-23 00:39:50.913 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 401 0 null 332.1999ms
2024-09-23 00:39:50.914 +03:00 [DBG] Connection id "0HN6R9S9GK4TB", Request id "0HN6R9S9GK4TB:00000002": started reading request body.
2024-09-23 00:39:50.915 +03:00 [DBG] Connection id "0HN6R9S9GK4TB", Request id "0HN6R9S9GK4TB:00000002": done reading request body.
2024-09-23 00:39:56.618 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDAwOjM5OjU2IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=34fbe8a1-6aba-4611-b387-68f407b7f29f&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=97d624df-1bac-4759-9679-dc9306b7119f.34fbe8a1-6aba-4611-b387-68f407b7f29f.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 00:39:56.618 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 00:39:56.618 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:39:56.620 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:39:56.631 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 00:39:56.631 +03:00 [DBG] Connection id "0HN6R9S9GK4TB" completed keep alive response.
2024-09-23 00:39:56.631 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDAwOjM5OjU2IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=34fbe8a1-6aba-4611-b387-68f407b7f29f&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=97d624df-1bac-4759-9679-dc9306b7119f.34fbe8a1-6aba-4611-b387-68f407b7f29f.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 13.0479ms
2024-09-23 00:39:59.455 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:39:59.456 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:39:59.456 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:39:59.456 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:39:59.472 +03:00 [INF] Successfully validated the token.
2024-09-23 00:39:59.473 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:39:59.476 +03:00 [DBG] Authorization was successful.
2024-09-23 00:39:59.477 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:39:59.478 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:39:59.495 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:39:59.496 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:39:59.497 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:39:59.497 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:39:59.497 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:39:59.497 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:39:59.498 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:39:59.597 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:39:59.601 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:39:59.603 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:39:59.605 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:39:59.633 +03:00 [DBG] Connection id "0HN6R9S9GK4TB", Request id "0HN6R9S9GK4TB:00000004": started reading request body.
2024-09-23 00:39:59.633 +03:00 [DBG] Connection id "0HN6R9S9GK4TB", Request id "0HN6R9S9GK4TB:00000004": done reading request body.
2024-09-23 00:39:59.641 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:39:59.641 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:39:59.642 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:39:59.642 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:39:59.650 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:40:06.004 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback', configuration added for 'Naming:UseNamingConvention'.
2024-09-23 00:40:06.336 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:40:06.347 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:40:06.516 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:40:06.518 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:40:06.550 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:40:06.550 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:40:06.641 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:40:06.667 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:40:06.668 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:40:06.808 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:40:06.872 +03:00 [DBG] Compiling query expression: 
'DbSet<Tag>()
    .Include(t => t.Parent)
    .SingleOrDefault(u => u.Name == __name_0)'
2024-09-23 00:40:06.942 +03:00 [DBG] Including navigation: 'Tag.Parent'.
2024-09-23 00:40:07.127 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tag>(
    asyncEnumerable: new SingleQueryingEnumerable<Tag>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 0], [Property: Tag.Description (string) Required MaxLength(2048), 1], [Property: Tag.ParentName (string) FK Index MaxLength(128), 2] }
                1 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 3], [Property: Tag.Description (string) Required MaxLength(2048), 4], [Property: Tag.ParentName (string) FK Index MaxLength(128), 5] }
            SELECT TOP(2) t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
            FROM tags AS t
            LEFT JOIN tags AS t0 ON t.parent_name == t0.name
            WHERE t.name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tag>, 
        ContentManager.Api.Persistence.Data.ApplicationContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 00:40:07.161 +03:00 [DBG] Creating DbConnection.
2024-09-23 00:40:07.166 +03:00 [DBG] Created DbConnection. (3ms).
2024-09-23 00:40:07.169 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:40:07.280 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:40:07.284 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:40:07.294 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-09-23 00:40:07.302 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (18ms).
2024-09-23 00:40:07.309 +03:00 [DBG] Executing DbCommand [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:40:07.406 +03:00 [INF] Executed DbCommand (94ms) [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:40:07.477 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:40:07.502 +03:00 [DBG] Closing data reader to 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:40:07.513 +03:00 [DBG] A data reader for 'content_manager' on server 'tcp://localhost:5432' is being disposed after spending 102ms reading results.
2024-09-23 00:40:07.519 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:40:07.525 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (6ms).
2024-09-23 00:40:20.748 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:40:20.770 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:40:20.772 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:40:20.827 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:40:20.828 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:40:20.835 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:40:20.836 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:40:20.851 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:40:20.853 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:40:20.854 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:40:20.893 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:40:20.926 +03:00 [DBG] 'ApplicationContext' generated value '"c75dec4c-d906-4b00-9bd3-15b41ef0fd9d"' for the property 'ContentPost.Id'.
2024-09-23 00:40:20.985 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: c75dec4c-d906-4b00-9bd3-15b41ef0fd9d}'.
2024-09-23 00:40:21.006 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:40:21.030 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: c75dec4c-d906-4b00-9bd3-15b41ef0fd9d, TagsName: test}'.
2024-09-23 00:40:25.866 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:40:25.878 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'Tag.ContentPosts' on entity with key '{Name: test}'.
2024-09-23 00:40:25.913 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: c75dec4c-d906-4b00-9bd3-15b41ef0fd9d}'.
2024-09-23 00:40:25.921 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: c75dec4c-d906-4b00-9bd3-15b41ef0fd9d, TagsName: test}'.
2024-09-23 00:40:25.925 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:40:25.945 +03:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2024-09-23 00:40:25.947 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:40:25.947 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:40:26.023 +03:00 [DBG] Executing 2 update commands as a batch.
2024-09-23 00:40:26.025 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:40:26.026 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:40:26.030 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-23 00:40:26.035 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-23 00:40:26.037 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:40:26.038 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:40:26.038 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:40:26.039 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='c75dec4c-d906-4b00-9bd3-15b41ef0fd9d', @p1='test' (Nullable = false), @p11='c75dec4c-d906-4b00-9bd3-15b41ef0fd9d', @p2='True', @p3='Test test' (Nullable = false), @p4=NULL (DbType = Guid), @p5='False', @p6='False', @p7='test' (Nullable = false), @p8=NULL (DbType = Guid), @p9='ffcd9487-b51a-4566-b399-4d160c4f8fb5' (Nullable = false), @p10=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO content_post_tag (content_posts_id, tags_name)
VALUES (@p0, @p1);
UPDATE content_posts SET can_users_edit_tags = @p2, description = @p3, editor_group_id = @p4, is_draft = @p5, is_public = @p6, name = @p7, owner_group_id = @p8, owner_user_id = @p9, reader_group_id = @p10
WHERE id = @p11;
2024-09-23 00:40:26.076 +03:00 [ERR] Failed executing DbCommand (37ms) [Parameters=[@p0='c75dec4c-d906-4b00-9bd3-15b41ef0fd9d', @p1='test' (Nullable = false), @p11='c75dec4c-d906-4b00-9bd3-15b41ef0fd9d', @p2='True', @p3='Test test' (Nullable = false), @p4=NULL (DbType = Guid), @p5='False', @p6='False', @p7='test' (Nullable = false), @p8=NULL (DbType = Guid), @p9='ffcd9487-b51a-4566-b399-4d160c4f8fb5' (Nullable = false), @p10=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO content_post_tag (content_posts_id, tags_name)
VALUES (@p0, @p1);
UPDATE content_posts SET can_users_edit_tags = @p2, description = @p3, editor_group_id = @p4, is_draft = @p5, is_public = @p6, name = @p7, owner_group_id = @p8, owner_user_id = @p9, reader_group_id = @p10
WHERE id = @p11;
2024-09-23 00:40:26.092 +03:00 [DBG] Disposing transaction.
2024-09-23 00:40:26.094 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:40:26.095 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:40:26.104 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ContentManager.Api.Persistence.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-23 00:40:26.217 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 26716.3808ms
2024-09-23 00:40:26.218 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:40:26.221 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.CreateAsync(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 40
   at ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 00:40:26.242 +03:00 [DBG] Connection id "0HN6R9S9GK4TB" completed keep alive response.
2024-09-23 00:40:26.244 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:40:26.250 +03:00 [DBG] Disposing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:40:26.252 +03:00 [DBG] Disposed connection to database 'content_manager' on server 'tcp://localhost:5432' (2ms).
2024-09-23 00:40:26.253 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:40:26.253 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 500 null text/plain; charset=utf-8 26798.5133ms
2024-09-23 00:42:34.258 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:42:34.357 +03:00 [DBG] Hosting starting
2024-09-23 00:42:34.367 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:42:34.377 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:42:34.383 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:42:34.383 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:42:34.387 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:42:34.390 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:42:34.391 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:42:34.398 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:42:34.400 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:42:34.403 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:42:34.403 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:42:34.412 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:42:34.413 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:42:34.454 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:42:34.454 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:42:34.454 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:42:34.454 +03:00 [INF] Hosting environment: Development
2024-09-23 00:42:34.454 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:42:34.454 +03:00 [DBG] Hosting started
2024-09-23 00:42:38.902 +03:00 [DBG] Connection id "0HN6R9TTCSUEE" accepted.
2024-09-23 00:42:38.903 +03:00 [DBG] Connection id "0HN6R9TTCSUEE" started.
2024-09-23 00:42:38.926 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:42:38.929 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:42:38.946 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:42:38.948 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:42:38.948 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:42:39.142 +03:00 [INF] Successfully validated the token.
2024-09-23 00:42:39.143 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:42:39.147 +03:00 [DBG] Authorization was successful.
2024-09-23 00:42:39.159 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:42:39.160 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:42:39.176 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:42:39.179 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:42:39.179 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:42:39.179 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:42:39.180 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:42:39.180 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:42:39.181 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:42:39.245 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:42:39.249 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:42:39.250 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:42:39.251 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:42:39.277 +03:00 [DBG] Connection id "0HN6R9TTCSUEE", Request id "0HN6R9TTCSUEE:00000001": started reading request body.
2024-09-23 00:42:39.278 +03:00 [DBG] Connection id "0HN6R9TTCSUEE", Request id "0HN6R9TTCSUEE:00000001": done reading request body.
2024-09-23 00:42:39.282 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:42:39.283 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:42:39.283 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:42:39.283 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:42:39.292 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:42:39.412 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback', configuration added for 'Naming:UseNamingConvention'.
2024-09-23 00:42:39.655 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:42:39.665 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:42:39.807 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:42:39.809 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:42:39.833 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:42:39.834 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:42:39.914 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:42:39.936 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:42:39.937 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:42:40.073 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:42:40.126 +03:00 [DBG] Compiling query expression: 
'DbSet<Tag>()
    .Include(t => t.Parent)
    .SingleOrDefault(u => u.Name == __name_0)'
2024-09-23 00:42:40.184 +03:00 [DBG] Including navigation: 'Tag.Parent'.
2024-09-23 00:42:40.339 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tag>(
    asyncEnumerable: new SingleQueryingEnumerable<Tag>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 0], [Property: Tag.Description (string) Required MaxLength(2048), 1], [Property: Tag.ParentName (string) FK Index MaxLength(128), 2] }
                1 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 3], [Property: Tag.Description (string) Required MaxLength(2048), 4], [Property: Tag.ParentName (string) FK Index MaxLength(128), 5] }
            SELECT TOP(2) t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
            FROM tags AS t
            LEFT JOIN tags AS t0 ON t.parent_name == t0.name
            WHERE t.name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tag>, 
        ContentManager.Api.Persistence.Data.ApplicationContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 00:42:40.366 +03:00 [DBG] Creating DbConnection.
2024-09-23 00:42:40.369 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-23 00:42:40.371 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:42:40.446 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:42:40.448 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:42:40.453 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-09-23 00:42:40.457 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (8ms).
2024-09-23 00:42:40.465 +03:00 [DBG] Executing DbCommand [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:42:40.515 +03:00 [INF] Executed DbCommand (51ms) [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:42:40.555 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:42:40.570 +03:00 [DBG] Closing data reader to 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:42:40.576 +03:00 [DBG] A data reader for 'content_manager' on server 'tcp://localhost:5432' is being disposed after spending 57ms reading results.
2024-09-23 00:42:40.580 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:42:40.583 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (3ms).
2024-09-23 00:42:40.586 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:42:40.607 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:42:40.608 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:42:40.639 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:42:40.640 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:42:40.643 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:42:40.643 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:42:40.651 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:42:40.654 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:42:40.654 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:42:40.678 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:42:40.697 +03:00 [DBG] 'ApplicationContext' generated value '"88ee5df7-3eda-422f-a72d-233a2378c217"' for the property 'ContentPost.Id'.
2024-09-23 00:42:40.738 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: 88ee5df7-3eda-422f-a72d-233a2378c217}'.
2024-09-23 00:42:40.757 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:42:40.775 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: 88ee5df7-3eda-422f-a72d-233a2378c217, TagsName: test}'.
2024-09-23 00:42:40.780 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:42:40.792 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'Tag.ContentPosts' on entity with key '{Name: test}'.
2024-09-23 00:42:40.822 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: 88ee5df7-3eda-422f-a72d-233a2378c217}'.
2024-09-23 00:42:40.829 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: 88ee5df7-3eda-422f-a72d-233a2378c217, TagsName: test}'.
2024-09-23 00:42:40.831 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:42:40.844 +03:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2024-09-23 00:42:40.847 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:42:40.847 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:42:40.909 +03:00 [DBG] Executing 2 update commands as a batch.
2024-09-23 00:42:40.912 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:42:40.913 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:42:40.917 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-23 00:42:40.919 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-23 00:42:40.921 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:42:40.922 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:42:40.923 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (1ms).
2024-09-23 00:42:40.923 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='88ee5df7-3eda-422f-a72d-233a2378c217', @p1='test' (Nullable = false), @p11='88ee5df7-3eda-422f-a72d-233a2378c217', @p2='True', @p3='Test test' (Nullable = false), @p4=NULL (DbType = Guid), @p5='False', @p6='False', @p7='test' (Nullable = false), @p8=NULL (DbType = Guid), @p9='ffcd9487-b51a-4566-b399-4d160c4f8fb5' (Nullable = false), @p10=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO content_post_tag (content_posts_id, tags_name)
VALUES (@p0, @p1);
UPDATE content_posts SET can_users_edit_tags = @p2, description = @p3, editor_group_id = @p4, is_draft = @p5, is_public = @p6, name = @p7, owner_group_id = @p8, owner_user_id = @p9, reader_group_id = @p10
WHERE id = @p11;
2024-09-23 00:42:40.934 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='88ee5df7-3eda-422f-a72d-233a2378c217', @p1='test' (Nullable = false), @p11='88ee5df7-3eda-422f-a72d-233a2378c217', @p2='True', @p3='Test test' (Nullable = false), @p4=NULL (DbType = Guid), @p5='False', @p6='False', @p7='test' (Nullable = false), @p8=NULL (DbType = Guid), @p9='ffcd9487-b51a-4566-b399-4d160c4f8fb5' (Nullable = false), @p10=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO content_post_tag (content_posts_id, tags_name)
VALUES (@p0, @p1);
UPDATE content_posts SET can_users_edit_tags = @p2, description = @p3, editor_group_id = @p4, is_draft = @p5, is_public = @p6, name = @p7, owner_group_id = @p8, owner_user_id = @p9, reader_group_id = @p10
WHERE id = @p11;
2024-09-23 00:42:40.942 +03:00 [DBG] Disposing transaction.
2024-09-23 00:42:40.944 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:42:40.945 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:42:40.957 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ContentManager.Api.Persistence.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-23 00:42:40.966 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 1784.143ms
2024-09-23 00:42:40.968 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:42:40.970 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.CreateAsync(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 40
   at ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 00:42:40.986 +03:00 [DBG] Connection id "0HN6R9TTCSUEE" completed keep alive response.
2024-09-23 00:42:40.989 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:42:40.994 +03:00 [DBG] Disposing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:42:40.997 +03:00 [DBG] Disposed connection to database 'content_manager' on server 'tcp://localhost:5432' (3ms).
2024-09-23 00:42:40.998 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:42:40.999 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 500 null text/plain; charset=utf-8 2074.1876ms
2024-09-23 00:43:04.719 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/index.html - null null
2024-09-23 00:43:04.721 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-23 00:43:04.723 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:43:04.725 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:43:04.777 +03:00 [DBG] Connection id "0HN6R9TTCSUEE" completed keep alive response.
2024-09-23 00:43:04.778 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/index.html - 200 null text/html;charset=utf-8 58.9309ms
2024-09-23 00:43:04.945 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/favicon-16x16.png - null null
2024-09-23 00:43:04.945 +03:00 [DBG] Connection id "0HN6R9TTCSUEE" received FIN.
2024-09-23 00:43:04.945 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2024-09-23 00:43:04.946 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:43:04.946 +03:00 [DBG] Connection id "0HN6R9TTCSUEE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 00:43:04.947 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:43:04.950 +03:00 [DBG] Connection id "0HN6R9TTCSUEE" disconnecting.
2024-09-23 00:43:04.951 +03:00 [DBG] The file transmission was cancelled
System.Threading.Tasks.TaskCanceledException: A task was canceled.
   at Microsoft.AspNetCore.Http.StreamCopyOperationInternal.CopyToAsync(Stream source, Stream destination, Nullable`1 count, Int32 bufferSize, CancellationToken cancel)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.Http.SendFileResponseExtensions.SendFileAsyncCore(HttpResponse response, IFileInfo file, Int64 offset, Nullable`1 count, CancellationToken cancellationToken)
   at Microsoft.AspNetCore.StaticFiles.StaticFileContext.SendAsync()
2024-09-23 00:43:04.952 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-09-23 00:43:04.952 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/favicon-16x16.png - 499 665 image/png 7.372ms
2024-09-23 00:43:04.954 +03:00 [DBG] Connection id "0HN6R9TTCSUEE" stopped.
2024-09-23 00:43:04.977 +03:00 [DBG] Connection id "0HN6R9TTCSUEF" accepted.
2024-09-23 00:43:04.978 +03:00 [DBG] Connection id "0HN6R9TTCSUEF" started.
2024-09-23 00:43:04.978 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - null null
2024-09-23 00:43:04.979 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-23 00:43:04.979 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:43:04.979 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:43:05.056 +03:00 [DBG] Connection id "0HN6R9TTCSUEF" completed keep alive response.
2024-09-23 00:43:05.057 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 78.2513ms
2024-09-23 00:43:08.110 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDAwOjQzOjA4IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=34fbe8a1-6aba-4611-b387-68f407b7f29f&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=3d2f3fb8-2e8f-4cf3-9684-29af4b4ff84b.34fbe8a1-6aba-4611-b387-68f407b7f29f.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 00:43:08.110 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 00:43:08.111 +03:00 [DBG] Request did not match any endpoints
2024-09-23 00:43:08.111 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 00:43:08.112 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 00:43:08.112 +03:00 [DBG] Connection id "0HN6R9TTCSUEF" completed keep alive response.
2024-09-23 00:43:08.112 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDAwOjQzOjA4IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=34fbe8a1-6aba-4611-b387-68f407b7f29f&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=3d2f3fb8-2e8f-4cf3-9684-29af4b4ff84b.34fbe8a1-6aba-4611-b387-68f407b7f29f.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 2.2464ms
2024-09-23 00:43:21.039 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:43:21.039 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:43:21.040 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:43:21.040 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:43:21.041 +03:00 [INF] Successfully validated the token.
2024-09-23 00:43:21.041 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:43:21.042 +03:00 [DBG] Authorization was successful.
2024-09-23 00:43:21.043 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:43:21.043 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:43:21.043 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:43:21.043 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:43:21.043 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:43:21.044 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:43:21.044 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:43:21.044 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:43:21.044 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:43:21.046 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:43:21.047 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:43:21.047 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:43:21.048 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:43:21.048 +03:00 [DBG] Connection id "0HN6R9TTCSUEF", Request id "0HN6R9TTCSUEF:00000003": started reading request body.
2024-09-23 00:43:21.048 +03:00 [DBG] Connection id "0HN6R9TTCSUEF", Request id "0HN6R9TTCSUEF:00000003": done reading request body.
2024-09-23 00:43:21.048 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:43:21.048 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:43:21.048 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:43:21.049 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:43:21.049 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:43:21.052 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:43:21.068 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:43:21.071 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:43:21.112 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:43:21.113 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:43:21.116 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:43:21.116 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:43:21.126 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:43:21.128 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:43:21.128 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:43:21.146 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:43:21.147 +03:00 [DBG] Compiling query expression: 
'DbSet<Tag>()
    .Include(t => t.Parent)
    .SingleOrDefault(u => u.Name == __name_0)'
2024-09-23 00:43:21.148 +03:00 [DBG] Including navigation: 'Tag.Parent'.
2024-09-23 00:43:21.155 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tag>(
    asyncEnumerable: new SingleQueryingEnumerable<Tag>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 0], [Property: Tag.Description (string) Required MaxLength(2048), 1], [Property: Tag.ParentName (string) FK Index MaxLength(128), 2] }
                1 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 3], [Property: Tag.Description (string) Required MaxLength(2048), 4], [Property: Tag.ParentName (string) FK Index MaxLength(128), 5] }
            SELECT TOP(2) t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
            FROM tags AS t
            LEFT JOIN tags AS t0 ON t.parent_name == t0.name
            WHERE t.name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tag>, 
        ContentManager.Api.Persistence.Data.ApplicationContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 00:43:21.156 +03:00 [DBG] Creating DbConnection.
2024-09-23 00:43:21.156 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-23 00:43:21.156 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:43:21.169 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:43:21.169 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:43:21.169 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:43:21.170 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:43:21.170 +03:00 [DBG] Executing DbCommand [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:43:21.172 +03:00 [INF] Executed DbCommand (3ms) [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:43:21.178 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:43:21.182 +03:00 [DBG] Closing data reader to 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:43:21.182 +03:00 [DBG] A data reader for 'content_manager' on server 'tcp://localhost:5432' is being disposed after spending 9ms reading results.
2024-09-23 00:43:21.182 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:43:21.182 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:43:21.185 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:43:21.198 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:43:21.199 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:43:21.233 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:43:21.234 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:43:21.239 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:43:21.239 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:43:21.251 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:43:21.253 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:43:21.253 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:43:21.271 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:43:21.276 +03:00 [DBG] 'ApplicationContext' generated value '"e0585cf2-6be2-4145-bce4-c47ea869858a"' for the property 'ContentPost.Id'.
2024-09-23 00:43:21.300 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: e0585cf2-6be2-4145-bce4-c47ea869858a}'.
2024-09-23 00:43:21.310 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:43:21.315 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: e0585cf2-6be2-4145-bce4-c47ea869858a, TagsName: test}'.
2024-09-23 00:43:21.316 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:43:21.318 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'Tag.ContentPosts' on entity with key '{Name: test}'.
2024-09-23 00:43:21.347 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: e0585cf2-6be2-4145-bce4-c47ea869858a}'.
2024-09-23 00:43:21.362 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: e0585cf2-6be2-4145-bce4-c47ea869858a, TagsName: test}'.
2024-09-23 00:43:21.362 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:43:21.366 +03:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2024-09-23 00:43:21.366 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:43:21.366 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:43:21.374 +03:00 [DBG] Executing 2 update commands as a batch.
2024-09-23 00:43:21.374 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:43:21.375 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:43:21.375 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-23 00:43:21.375 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-23 00:43:21.375 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:43:21.375 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:43:21.376 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:43:21.376 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='e0585cf2-6be2-4145-bce4-c47ea869858a', @p1='test' (Nullable = false), @p11='e0585cf2-6be2-4145-bce4-c47ea869858a', @p2='True', @p3='Test test' (Nullable = false), @p4=NULL (DbType = Guid), @p5='False', @p6='False', @p7='test' (Nullable = false), @p8=NULL (DbType = Guid), @p9='ffcd9487-b51a-4566-b399-4d160c4f8fb5' (Nullable = false), @p10=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO content_post_tag (content_posts_id, tags_name)
VALUES (@p0, @p1);
UPDATE content_posts SET can_users_edit_tags = @p2, description = @p3, editor_group_id = @p4, is_draft = @p5, is_public = @p6, name = @p7, owner_group_id = @p8, owner_user_id = @p9, reader_group_id = @p10
WHERE id = @p11;
2024-09-23 00:43:21.378 +03:00 [ERR] Failed executing DbCommand (2ms) [Parameters=[@p0='e0585cf2-6be2-4145-bce4-c47ea869858a', @p1='test' (Nullable = false), @p11='e0585cf2-6be2-4145-bce4-c47ea869858a', @p2='True', @p3='Test test' (Nullable = false), @p4=NULL (DbType = Guid), @p5='False', @p6='False', @p7='test' (Nullable = false), @p8=NULL (DbType = Guid), @p9='ffcd9487-b51a-4566-b399-4d160c4f8fb5' (Nullable = false), @p10=NULL (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO content_post_tag (content_posts_id, tags_name)
VALUES (@p0, @p1);
UPDATE content_posts SET can_users_edit_tags = @p2, description = @p3, editor_group_id = @p4, is_draft = @p5, is_public = @p6, name = @p7, owner_group_id = @p8, owner_user_id = @p9, reader_group_id = @p10
WHERE id = @p11;
2024-09-23 00:43:21.379 +03:00 [DBG] Disposing transaction.
2024-09-23 00:43:21.379 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:43:21.379 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:43:21.381 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ContentManager.Api.Persistence.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-23 00:43:21.384 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 339.6409ms
2024-09-23 00:43:21.384 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:43:21.384 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.CreateAsync(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 40
   at ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 00:43:21.393 +03:00 [DBG] Connection id "0HN6R9TTCSUEF" completed keep alive response.
2024-09-23 00:43:21.393 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:43:21.393 +03:00 [DBG] Disposing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:43:21.394 +03:00 [DBG] Disposed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:43:21.394 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:43:21.394 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 500 null text/plain; charset=utf-8 355.4287ms
2024-09-23 00:44:40.803 +03:00 [INF] Application is shutting down...
2024-09-23 00:44:40.804 +03:00 [DBG] Hosting stopping
2024-09-23 00:44:40.812 +03:00 [DBG] Connection id "0HN6R9TTCSUEF" disconnecting.
2024-09-23 00:44:40.812 +03:00 [DBG] Connection id "0HN6R9TTCSUEF" stopped.
2024-09-23 00:44:40.813 +03:00 [DBG] Connection id "0HN6R9TTCSUEF" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 00:44:40.817 +03:00 [DBG] Hosting stopped
2024-09-23 00:45:36.059 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:45:36.183 +03:00 [DBG] Hosting starting
2024-09-23 00:45:36.195 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:45:36.202 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:45:36.208 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:45:36.209 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:45:36.213 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:45:36.220 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:45:36.221 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:45:36.232 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:45:36.236 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:45:36.241 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:45:36.241 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:45:36.255 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:45:36.258 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:45:36.315 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:45:36.315 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:45:36.316 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:45:36.317 +03:00 [INF] Hosting environment: Development
2024-09-23 00:45:36.317 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:45:36.317 +03:00 [DBG] Hosting started
2024-09-23 00:45:38.404 +03:00 [DBG] Connection id "0HN6R9VISOG8I" accepted.
2024-09-23 00:45:38.406 +03:00 [DBG] Connection id "0HN6R9VISOG8I" started.
2024-09-23 00:45:38.437 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:45:38.444 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:45:38.470 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:45:38.475 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:45:38.477 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:45:38.678 +03:00 [INF] Successfully validated the token.
2024-09-23 00:45:38.680 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:45:38.684 +03:00 [DBG] Authorization was successful.
2024-09-23 00:45:38.696 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:45:38.697 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:45:38.713 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:45:38.715 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:45:38.715 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:45:38.716 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:45:38.716 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:45:38.716 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:45:38.717 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:45:38.778 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:45:38.782 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:45:38.784 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:45:38.785 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:45:38.808 +03:00 [DBG] Connection id "0HN6R9VISOG8I", Request id "0HN6R9VISOG8I:00000001": started reading request body.
2024-09-23 00:45:38.809 +03:00 [DBG] Connection id "0HN6R9VISOG8I", Request id "0HN6R9VISOG8I:00000001": done reading request body.
2024-09-23 00:45:38.814 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:45:38.814 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:45:38.815 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:45:38.815 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:45:38.822 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:45:38.935 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback', configuration added for 'Naming:UseNamingConvention'.
2024-09-23 00:45:39.157 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:45:39.164 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:45:39.287 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:45:39.289 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:45:39.312 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:45:39.312 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:45:39.392 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:45:39.421 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:45:39.421 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:45:39.562 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:45:39.606 +03:00 [DBG] Compiling query expression: 
'DbSet<Tag>()
    .Include(t => t.Parent)
    .SingleOrDefault(u => u.Name == __name_0)'
2024-09-23 00:45:39.666 +03:00 [DBG] Including navigation: 'Tag.Parent'.
2024-09-23 00:45:39.823 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tag>(
    asyncEnumerable: new SingleQueryingEnumerable<Tag>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 0], [Property: Tag.Description (string) Required MaxLength(2048), 1], [Property: Tag.ParentName (string) FK Index MaxLength(128), 2] }
                1 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 3], [Property: Tag.Description (string) Required MaxLength(2048), 4], [Property: Tag.ParentName (string) FK Index MaxLength(128), 5] }
            SELECT TOP(2) t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
            FROM tags AS t
            LEFT JOIN tags AS t0 ON t.parent_name == t0.name
            WHERE t.name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tag>, 
        ContentManager.Api.Persistence.Data.ApplicationContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 00:45:39.852 +03:00 [DBG] Creating DbConnection.
2024-09-23 00:45:39.855 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-23 00:45:39.858 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:45:39.940 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:45:39.942 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:45:39.949 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-09-23 00:45:39.952 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-09-23 00:45:39.959 +03:00 [DBG] Executing DbCommand [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:45:40.014 +03:00 [INF] Executed DbCommand (54ms) [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:45:40.053 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:45:40.069 +03:00 [DBG] Closing data reader to 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:45:40.077 +03:00 [DBG] A data reader for 'content_manager' on server 'tcp://localhost:5432' is being disposed after spending 58ms reading results.
2024-09-23 00:45:40.081 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:45:40.085 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (3ms).
2024-09-23 00:45:40.099 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'Tag.ContentPosts' on entity with key '{Name: test}'.
2024-09-23 00:45:40.117 +03:00 [DBG] 'ApplicationContext' generated value '"dc3b0363-bea4-4b78-a0f7-abfb12b61495"' for the property 'ContentPost.Id'.
2024-09-23 00:45:40.166 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: dc3b0363-bea4-4b78-a0f7-abfb12b61495}'.
2024-09-23 00:45:40.182 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: dc3b0363-bea4-4b78-a0f7-abfb12b61495, TagsName: test}'.
2024-09-23 00:45:40.187 +03:00 [DBG] The 'Tag' entity with key '{Name: test}' tracked by 'ApplicationContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-23 00:45:40.190 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:45:40.208 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:45:40.210 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:45:40.242 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:45:40.243 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:45:40.246 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:45:40.247 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:45:40.254 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:45:40.256 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:45:40.256 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:45:40.278 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:45:40.307 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: dc3b0363-bea4-4b78-a0f7-abfb12b61495}'.
2024-09-23 00:45:40.317 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:45:40.324 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: dc3b0363-bea4-4b78-a0f7-abfb12b61495, TagsName: test}'.
2024-09-23 00:45:40.327 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:45:40.335 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'ContentPost.Tags' on entity with key '{Id: dc3b0363-bea4-4b78-a0f7-abfb12b61495}'.
2024-09-23 00:45:40.336 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:45:40.343 +03:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2024-09-23 00:45:40.345 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:45:40.346 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'ContentPost.Tags' on entity with key '{Id: dc3b0363-bea4-4b78-a0f7-abfb12b61495}'.
2024-09-23 00:45:40.346 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:45:40.406 +03:00 [DBG] Executing 3 update commands as a batch.
2024-09-23 00:45:40.408 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:45:40.408 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:45:40.410 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-23 00:45:40.413 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-23 00:45:40.415 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:45:40.416 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:45:40.416 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:45:40.416 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='dc3b0363-bea4-4b78-a0f7-abfb12b61495', @p1='True', @p2='Test test' (Nullable = false), @p3=NULL (DbType = Guid), @p4='False', @p5='False', @p6='test' (Nullable = false), @p7=NULL (DbType = Guid), @p8='ffcd9487-b51a-4566-b399-4d160c4f8fb5' (Nullable = false), @p9=NULL (DbType = Guid), @p12='test' (Nullable = false), @p10='' (Nullable = false), @p11=NULL, @p13='dc3b0363-bea4-4b78-a0f7-abfb12b61495', @p14='test' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO content_posts (id, can_users_edit_tags, description, editor_group_id, is_draft, is_public, name, owner_group_id, owner_user_id, reader_group_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE tags SET description = @p10, parent_name = @p11
WHERE name = @p12;
INSERT INTO content_post_tag (content_posts_id, tags_name)
VALUES (@p13, @p14);
2024-09-23 00:45:40.426 +03:00 [ERR] Failed executing DbCommand (9ms) [Parameters=[@p0='dc3b0363-bea4-4b78-a0f7-abfb12b61495', @p1='True', @p2='Test test' (Nullable = false), @p3=NULL (DbType = Guid), @p4='False', @p5='False', @p6='test' (Nullable = false), @p7=NULL (DbType = Guid), @p8='ffcd9487-b51a-4566-b399-4d160c4f8fb5' (Nullable = false), @p9=NULL (DbType = Guid), @p12='test' (Nullable = false), @p10='' (Nullable = false), @p11=NULL, @p13='dc3b0363-bea4-4b78-a0f7-abfb12b61495', @p14='test' (Nullable = false)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO content_posts (id, can_users_edit_tags, description, editor_group_id, is_draft, is_public, name, owner_group_id, owner_user_id, reader_group_id)
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9);
UPDATE tags SET description = @p10, parent_name = @p11
WHERE name = @p12;
INSERT INTO content_post_tag (content_posts_id, tags_name)
VALUES (@p13, @p14);
2024-09-23 00:45:40.437 +03:00 [DBG] Disposing transaction.
2024-09-23 00:45:40.439 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:45:40.439 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:45:40.450 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ContentManager.Api.Persistence.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_posts" violates foreign key constraint "fk_content_posts_users_owner_user_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_posts" violates foreign key constraint "fk_content_posts_users_owner_user_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_posts
    ConstraintName: fk_content_posts_users_owner_user_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_posts" violates foreign key constraint "fk_content_posts_users_owner_user_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_posts" violates foreign key constraint "fk_content_posts_users_owner_user_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_posts
    ConstraintName: fk_content_posts_users_owner_user_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-23 00:45:40.460 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 1739.7414ms
2024-09-23 00:45:40.462 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:45:40.466 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_posts" violates foreign key constraint "fk_content_posts_users_owner_user_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_posts" violates foreign key constraint "fk_content_posts_users_owner_user_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_posts
    ConstraintName: fk_content_posts_users_owner_user_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.CreateAsync(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 40
   at ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 00:45:40.486 +03:00 [DBG] Connection id "0HN6R9VISOG8I" completed keep alive response.
2024-09-23 00:45:40.490 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:45:40.494 +03:00 [DBG] Disposing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:45:40.497 +03:00 [DBG] Disposed connection to database 'content_manager' on server 'tcp://localhost:5432' (1ms).
2024-09-23 00:45:40.498 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:45:40.499 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 500 null text/plain; charset=utf-8 2063.6447ms
2024-09-23 00:47:36.153 +03:00 [DBG] Connection id "0HN6R9VISOG8I" received FIN.
2024-09-23 00:47:36.154 +03:00 [DBG] Connection id "0HN6R9VISOG8I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 00:47:36.154 +03:00 [DBG] Connection id "0HN6R9VISOG8I" disconnecting.
2024-09-23 00:47:36.156 +03:00 [DBG] Connection id "0HN6R9VISOG8I" stopped.
2024-09-23 00:47:40.961 +03:00 [INF] Application is shutting down...
2024-09-23 00:47:40.962 +03:00 [DBG] Hosting stopping
2024-09-23 00:47:40.968 +03:00 [DBG] Hosting stopped
2024-09-23 00:48:10.239 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:48:10.336 +03:00 [DBG] Hosting starting
2024-09-23 00:48:10.344 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:48:10.355 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:48:10.364 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:48:10.365 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:48:10.370 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:48:10.376 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:48:10.377 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:48:10.385 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:48:10.389 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:48:10.392 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:48:10.393 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:48:10.402 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:48:10.403 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:48:10.450 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:48:10.451 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:48:10.451 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:48:10.451 +03:00 [INF] Hosting environment: Development
2024-09-23 00:48:10.452 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:48:10.452 +03:00 [DBG] Hosting started
2024-09-23 00:48:26.861 +03:00 [DBG] Connection id "0HN6RA15397SQ" accepted.
2024-09-23 00:48:26.861 +03:00 [DBG] Connection id "0HN6RA15397SQ" started.
2024-09-23 00:48:26.887 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 106
2024-09-23 00:48:26.891 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:48:26.908 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:48:26.910 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:48:26.910 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:48:27.109 +03:00 [INF] Successfully validated the token.
2024-09-23 00:48:27.111 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:48:27.119 +03:00 [DBG] Authorization was successful.
2024-09-23 00:48:27.130 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:48:27.132 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:48:27.148 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:48:27.152 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:48:27.153 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:48:27.153 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:48:27.153 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:48:27.154 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:48:27.155 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:48:27.220 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:48:27.225 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:48:27.226 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:48:27.228 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:48:27.255 +03:00 [DBG] Connection id "0HN6RA15397SQ", Request id "0HN6RA15397SQ:00000001": started reading request body.
2024-09-23 00:48:27.255 +03:00 [DBG] Connection id "0HN6RA15397SQ", Request id "0HN6RA15397SQ:00000001": done reading request body.
2024-09-23 00:48:27.260 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:48:27.260 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:48:27.260 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:48:27.260 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:48:27.270 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:48:27.386 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback', configuration added for 'Naming:UseNamingConvention'.
2024-09-23 00:48:27.641 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:27.651 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:27.787 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:27.788 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:27.808 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:48:27.809 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:48:27.883 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:48:27.905 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:48:27.905 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:48:28.024 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:48:28.058 +03:00 [DBG] 'ApplicationContext' generated value '"0c0ee336-1557-49d5-89b4-9521ae206018"' for the property 'ContentPost.Id'.
2024-09-23 00:48:28.117 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: 0c0ee336-1557-49d5-89b4-9521ae206018}'.
2024-09-23 00:48:28.120 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:48:28.138 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:28.139 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:28.170 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:28.170 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:28.173 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:48:28.173 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:48:28.181 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:48:28.183 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:48:28.184 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:48:28.206 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:48:28.208 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:48:28.210 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:48:28.215 +03:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2024-09-23 00:48:28.216 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:48:28.216 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:48:28.223 +03:00 [DBG] SaveChanges completed for 'ApplicationContext' with 0 entities written to the database.
2024-09-23 00:48:28.264 +03:00 [DBG] Compiling query expression: 
'DbSet<Tag>()
    .Include(t => t.Parent)
    .SingleOrDefault(u => u.Name == __name_0)'
2024-09-23 00:48:28.318 +03:00 [DBG] Including navigation: 'Tag.Parent'.
2024-09-23 00:48:28.455 +03:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<Tag>(
    asyncEnumerable: new SingleQueryingEnumerable<Tag>(
        (RelationalQueryContext)queryContext, 
        RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 0], [Property: Tag.Description (string) Required MaxLength(2048), 1], [Property: Tag.ParentName (string) FK Index MaxLength(128), 2] }
                1 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 3], [Property: Tag.Description (string) Required MaxLength(2048), 4], [Property: Tag.ParentName (string) FK Index MaxLength(128), 5] }
            SELECT TOP(2) t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
            FROM tags AS t
            LEFT JOIN tags AS t0 ON t.parent_name == t0.name
            WHERE t.name == @__name_0), 
        null, 
        Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, Tag>, 
        ContentManager.Api.Persistence.Data.ApplicationContext, 
        False, 
        True, 
        True
    ), 
    cancellationToken: queryContext.CancellationToken)'
2024-09-23 00:48:28.486 +03:00 [DBG] Creating DbConnection.
2024-09-23 00:48:28.490 +03:00 [DBG] Created DbConnection. (1ms).
2024-09-23 00:48:28.492 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:28.573 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:28.576 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:48:28.578 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (2ms).
2024-09-23 00:48:28.583 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (7ms).
2024-09-23 00:48:28.590 +03:00 [DBG] Executing DbCommand [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:48:28.643 +03:00 [INF] Executed DbCommand (53ms) [Parameters=[@__name_0='test'], CommandType='"Text"', CommandTimeout='30']
SELECT t.name, t.description, t.parent_name, t0.name, t0.description, t0.parent_name
FROM tags AS t
LEFT JOIN tags AS t0 ON t.parent_name = t0.name
WHERE t.name = @__name_0
LIMIT 2
2024-09-23 00:48:28.666 +03:00 [DBG] Context 'ApplicationContext' started tracking 'Tag' entity with key '{Name: test}'.
2024-09-23 00:48:28.674 +03:00 [DBG] Closing data reader to 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:28.683 +03:00 [DBG] A data reader for 'content_manager' on server 'tcp://localhost:5432' is being disposed after spending 34ms reading results.
2024-09-23 00:48:28.686 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:28.689 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (3ms).
2024-09-23 00:48:28.701 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'Tag.ContentPosts' on entity with key '{Name: test}'.
2024-09-23 00:48:28.739 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: 0c0ee336-1557-49d5-89b4-9521ae206018}'.
2024-09-23 00:48:28.758 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPostTag' entity with key '{ContentPostsId: 0c0ee336-1557-49d5-89b4-9521ae206018, TagsName: test}'.
2024-09-23 00:48:28.762 +03:00 [DBG] The 'Tag' entity with key '{Name: test}' tracked by 'ApplicationContext' changed state from '"Unchanged"' to '"Modified"'.
2024-09-23 00:48:28.762 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:48:28.769 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'ContentPost.Tags' on entity with key '{Id: 0c0ee336-1557-49d5-89b4-9521ae206018}'.
2024-09-23 00:48:28.770 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:48:28.772 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'ContentPost.Tags' on entity with key '{Id: 0c0ee336-1557-49d5-89b4-9521ae206018}'.
2024-09-23 00:48:28.778 +03:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2024-09-23 00:48:28.778 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:48:28.779 +03:00 [DBG] 1 entities were added and 0 entities were removed from skip navigation 'ContentPost.Tags' on entity with key '{Id: 0c0ee336-1557-49d5-89b4-9521ae206018}'.
2024-09-23 00:48:28.779 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:48:28.839 +03:00 [DBG] Executing 3 update commands as a batch.
2024-09-23 00:48:28.841 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:28.842 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:28.844 +03:00 [DBG] Beginning transaction with isolation level 'Unspecified'.
2024-09-23 00:48:28.848 +03:00 [DBG] Began transaction with isolation level 'ReadCommitted'.
2024-09-23 00:48:28.851 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:48:28.851 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:48:28.852 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:48:28.852 +03:00 [DBG] Executing DbCommand [Parameters=[@p0='0c0ee336-1557-49d5-89b4-9521ae206018', @p1='test' (Nullable = false), @p11='0c0ee336-1557-49d5-89b4-9521ae206018', @p2='True', @p3='Test test' (Nullable = false), @p4=NULL (DbType = Guid), @p5='False', @p6='False', @p7='test' (Nullable = false), @p8=NULL (DbType = Guid), @p9='ffcd9487-b51a-4566-b399-4d160c4f8fb5' (Nullable = false), @p10=NULL (DbType = Guid), @p14='test' (Nullable = false), @p12='' (Nullable = false), @p13=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO content_post_tag (content_posts_id, tags_name)
VALUES (@p0, @p1);
UPDATE content_posts SET can_users_edit_tags = @p2, description = @p3, editor_group_id = @p4, is_draft = @p5, is_public = @p6, name = @p7, owner_group_id = @p8, owner_user_id = @p9, reader_group_id = @p10
WHERE id = @p11;
UPDATE tags SET description = @p12, parent_name = @p13
WHERE name = @p14;
2024-09-23 00:48:28.864 +03:00 [ERR] Failed executing DbCommand (11ms) [Parameters=[@p0='0c0ee336-1557-49d5-89b4-9521ae206018', @p1='test' (Nullable = false), @p11='0c0ee336-1557-49d5-89b4-9521ae206018', @p2='True', @p3='Test test' (Nullable = false), @p4=NULL (DbType = Guid), @p5='False', @p6='False', @p7='test' (Nullable = false), @p8=NULL (DbType = Guid), @p9='ffcd9487-b51a-4566-b399-4d160c4f8fb5' (Nullable = false), @p10=NULL (DbType = Guid), @p14='test' (Nullable = false), @p12='' (Nullable = false), @p13=NULL], CommandType='"Text"', CommandTimeout='30']
INSERT INTO content_post_tag (content_posts_id, tags_name)
VALUES (@p0, @p1);
UPDATE content_posts SET can_users_edit_tags = @p2, description = @p3, editor_group_id = @p4, is_draft = @p5, is_public = @p6, name = @p7, owner_group_id = @p8, owner_user_id = @p9, reader_group_id = @p10
WHERE id = @p11;
UPDATE tags SET description = @p12, parent_name = @p13
WHERE name = @p14;
2024-09-23 00:48:28.873 +03:00 [DBG] Disposing transaction.
2024-09-23 00:48:28.875 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:28.876 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:48:28.887 +03:00 [ERR] An exception occurred in the database while saving changes for context type 'ContentManager.Api.Persistence.Data.ApplicationContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-09-23 00:48:28.895 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 1738.7996ms
2024-09-23 00:48:28.898 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:48:28.902 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_content_posts_content_posts_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_content_posts_content_posts_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.CreateAsync(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 44
   at ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 00:48:28.920 +03:00 [DBG] Connection id "0HN6RA15397SQ" completed keep alive response.
2024-09-23 00:48:28.923 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:48:28.926 +03:00 [DBG] Disposing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:28.928 +03:00 [DBG] Disposed connection to database 'content_manager' on server 'tcp://localhost:5432' (1ms).
2024-09-23 00:48:28.928 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:48:28.929 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 500 null text/plain; charset=utf-8 2043.2063ms
2024-09-23 00:48:46.657 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 00:48:46.658 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:48:46.658 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:48:46.659 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 00:48:46.661 +03:00 [INF] Successfully validated the token.
2024-09-23 00:48:46.661 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:48:46.667 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:48:46.667 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 00:48:46.681 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:48:46.682 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:48:46.683 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:48:46.683 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:48:46.683 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:48:46.684 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:48:46.684 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:48:46.687 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:48:46.693 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 00:48:46.694 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 00:48:46.700 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 00:48:46.703 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 00:48:46.705 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 00:48:46.706 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 00:48:46.708 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 00:48:46.708 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 00:48:46.708 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 00:48:46.711 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 00:48:46.723 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:48:46.751 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:46.754 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:46.803 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:46.804 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:48:46.807 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:48:46.807 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:48:46.819 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:48:46.820 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:48:46.821 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:48:46.841 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:48:46.851 +03:00 [DBG] Compiling query expression: 
'DbSet<ContentPost>()
    .Include(p => p.Tags)
    .Include(g => g.ReaderGroup)
    .ThenInclude(g => g.Users)
    .Include(g => g.EditorGroup)
    .ThenInclude(g => g.Users)
    .Include(g => g.OwnerGroup)
    .ThenInclude(g => g.Users)
    .AsTracking()
    .Where(r => ((IAuthorizedResource)r).IsPublic && !(((IAuthorizedResource)r).IsDraft) || ((IAuthorizedResource)r).OwnerUserId == __userId_0 || ((IAuthorizedResource)r).ReaderGroup != null && ((IAuthorizedResource)r).ReaderGroup.Users
        .Any(u => u.Id == __userId_0) || ((IAuthorizedResource)r).EditorGroup != null && ((IAuthorizedResource)r).EditorGroup.Users
        .Any(u => u.Id == __userId_0) || ((IAuthorizedResource)r).OwnerGroup != null && ((IAuthorizedResource)r).OwnerGroup.Users
        .Any(u => u.Id == __userId_0))
    .Skip(__p_1)
    .Take(__p_2)'
2024-09-23 00:48:46.860 +03:00 [DBG] Including navigation: 'ContentPost.Tags'.
2024-09-23 00:48:46.861 +03:00 [DBG] Including navigation: 'ContentPost.ReaderGroup'.
2024-09-23 00:48:46.861 +03:00 [DBG] Including navigation: 'UserGroup.Users'.
2024-09-23 00:48:46.861 +03:00 [DBG] Including navigation: 'ContentPost.EditorGroup'.
2024-09-23 00:48:46.861 +03:00 [DBG] Including navigation: 'UserGroup.Users'.
2024-09-23 00:48:46.861 +03:00 [DBG] Including navigation: 'ContentPost.OwnerGroup'.
2024-09-23 00:48:46.862 +03:00 [DBG] Including navigation: 'UserGroup.Users'.
2024-09-23 00:48:46.890 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-23 00:48:46.891 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-23 00:48:46.953 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-23 00:48:46.972 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ContentPost>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ContentPost.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ContentPost.CanUsersEditTags (bool) Required, 1], [Property: ContentPost.Description (string) Required MaxLength(2048), 2], [Property: ContentPost.EditorGroupId (Guid?) FK Index, 3], [Property: ContentPost.IsDraft (bool) Required, 4], [Property: ContentPost.IsPublic (bool) Required, 5], [Property: ContentPost.Name (string) Required MaxLength(128), 6], [Property: ContentPost.OwnerGroupId (Guid?) FK Index, 7], [Property: ContentPost.OwnerUserId (string) Required FK Index MaxLength(36), 8], [Property: ContentPost.ReaderGroupId (Guid?) FK Index, 9] }
            1 -> 0
            2 -> 10
            3 -> 11
            4 -> 12
            5 -> Dictionary<IProperty, int> { [Property: ContentPostTag (Dictionary<string, object>).ContentPostsId (no field, Guid) Indexer Required PK FK AfterSave:Throw, 13], [Property: ContentPostTag (Dictionary<string, object>).TagsName (no field, string) Indexer Required PK FK Index AfterSave:Throw, 14] }
            6 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 15], [Property: Tag.Description (string) Required MaxLength(2048), 16], [Property: Tag.ParentName (string) FK Index MaxLength(128), 17] }
            7 -> 13
            8 -> 14
            9 -> 15
            10 -> Dictionary<IProperty, int> { [Property: UserGroup.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 10], [Property: UserGroup.EditorGroupId (Guid?) FK Index, 18], [Property: UserGroup.IsDraft (bool) Required, 19], [Property: UserGroup.IsPublic (bool) Required, 20], [Property: UserGroup.Name (string) Required MaxLength(128), 21], [Property: UserGroup.OwnerGroupId (Guid?) FK Index, 22], [Property: UserGroup.OwnerUserId (string) Required FK Index MaxLength(36), 23], [Property: UserGroup.ReaderGroupId (Guid?) FK Index, 24] }
            11 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(36), 25], [Property: User.GroupId (Guid) Required FK Index, 26] }
            12 -> 25
            13 -> Dictionary<IProperty, int> { [Property: UserGroup.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: UserGroup.EditorGroupId (Guid?) FK Index, 27], [Property: UserGroup.IsDraft (bool) Required, 28], [Property: UserGroup.IsPublic (bool) Required, 29], [Property: UserGroup.Name (string) Required MaxLength(128), 30], [Property: UserGroup.OwnerGroupId (Guid?) FK Index, 31], [Property: UserGroup.OwnerUserId (string) Required FK Index MaxLength(36), 32], [Property: UserGroup.ReaderGroupId (Guid?) FK Index, 33] }
            14 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(36), 34], [Property: User.GroupId (Guid) Required FK Index, 35] }
            15 -> 34
            16 -> Dictionary<IProperty, int> { [Property: UserGroup.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: UserGroup.EditorGroupId (Guid?) FK Index, 36], [Property: UserGroup.IsDraft (bool) Required, 37], [Property: UserGroup.IsPublic (bool) Required, 38], [Property: UserGroup.Name (string) Required MaxLength(128), 39], [Property: UserGroup.OwnerGroupId (Guid?) FK Index, 40], [Property: UserGroup.OwnerUserId (string) Required FK Index MaxLength(36), 41], [Property: UserGroup.ReaderGroupId (Guid?) FK Index, 42] }
            17 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(36), 43], [Property: User.GroupId (Guid) Required FK Index, 44] }
            18 -> 43
        SELECT t.id, t.can_users_edit_tags, t.description, t.editor_group_id, t.is_draft, t.is_public, t.name, t.owner_group_id, t.owner_user_id, t.reader_group_id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, t0.description, t0.parent_name, t.editor_group_id0, t.is_draft0, t.is_public0, t.name0, t.owner_group_id0, t.owner_user_id0, t.reader_group_id0, u5.id, u5.group_id, t.editor_group_id1, t.is_draft1, t.is_public1, t.name1, t.owner_group_id1, t.owner_user_id1, t.reader_group_id1, u6.id, u6.group_id, t.editor_group_id2, t.is_draft2, t.is_public2, t.name2, t.owner_group_id2, t.owner_user_id2, t.reader_group_id2, u7.id, u7.group_id
        FROM 
        (
            SELECT c.id, c.can_users_edit_tags, c.description, c.editor_group_id, c.is_draft, c.is_public, c.name, c.owner_group_id, c.owner_user_id, c.reader_group_id, u.id AS id0, u.editor_group_id AS editor_group_id0, u.is_draft AS is_draft0, u.is_public AS is_public0, u.name AS name0, u.owner_group_id AS owner_group_id0, u.owner_user_id AS owner_user_id0, u.reader_group_id AS reader_group_id0, u0.id AS id1, u0.editor_group_id AS editor_group_id1, u0.is_draft AS is_draft1, u0.is_public AS is_public1, u0.name AS name1, u0.owner_group_id AS owner_group_id1, u0.owner_user_id AS owner_user_id1, u0.reader_group_id AS reader_group_id1, u1.id AS id2, u1.editor_group_id AS editor_group_id2, u1.is_draft AS is_draft2, u1.is_public AS is_public2, u1.name AS name2, u1.owner_group_id AS owner_group_id2, u1.owner_user_id AS owner_user_id2, u1.reader_group_id AS reader_group_id2
            FROM content_posts AS c
            LEFT JOIN user_groups AS u ON c.reader_group_id == u.id
            LEFT JOIN user_groups AS u0 ON c.editor_group_id == u0.id
            LEFT JOIN user_groups AS u1 ON c.owner_group_id == u1.id
            WHERE ((((c.is_public && Not(c.is_draft)) || (c.owner_user_id == @__userId_0)) || (Not(u.id == NULL) && EXISTS (
                SELECT 1
                FROM users AS u2
                WHERE ((u.id != NULL) && (u.id == u2.group_id)) && (u2.id == @__userId_0)))) || (Not(u0.id == NULL) && EXISTS (
                SELECT 1
                FROM users AS u3
                WHERE ((u0.id != NULL) && (u0.id == u3.group_id)) && (u3.id == @__userId_0)))) || (Not(u1.id == NULL) && EXISTS (
                SELECT 1
                FROM users AS u4
                WHERE ((u1.id != NULL) && (u1.id == u4.group_id)) && (u4.id == @__userId_0)))
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t
        LEFT JOIN 
        (
            SELECT c0.content_posts_id, c0.tags_name, t1.name, t1.description, t1.parent_name
            FROM content_post_tag AS c0
            INNER JOIN tags AS t1 ON c0.tags_name == t1.name
        ) AS t0 ON t.id == t0.content_posts_id
        LEFT JOIN users AS u5 ON t.id0 == u5.group_id
        LEFT JOIN users AS u6 ON t.id1 == u6.group_id
        LEFT JOIN users AS u7 ON t.id2 == u7.group_id
        ORDER BY t.id ASC, t.id0 ASC, t.id1 ASC, t.id2 ASC, t0.content_posts_id ASC, t0.tags_name ASC, t0.name ASC, u5.id ASC, u6.id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ContentPost>, 
    ContentManager.Api.Persistence.Data.ApplicationContext, 
    False, 
    True, 
    True
)'
2024-09-23 00:48:46.979 +03:00 [DBG] Creating DbConnection.
2024-09-23 00:48:46.979 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-23 00:48:46.980 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:46.995 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:46.995 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:48:46.995 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:48:46.995 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:48:46.996 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='ffcd9487-b51a-4566-b399-4d160c4f8fb5', @__p_2='20', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.can_users_edit_tags, t.description, t.editor_group_id, t.is_draft, t.is_public, t.name, t.owner_group_id, t.owner_user_id, t.reader_group_id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, t0.description, t0.parent_name, t.editor_group_id0, t.is_draft0, t.is_public0, t.name0, t.owner_group_id0, t.owner_user_id0, t.reader_group_id0, u5.id, u5.group_id, t.editor_group_id1, t.is_draft1, t.is_public1, t.name1, t.owner_group_id1, t.owner_user_id1, t.reader_group_id1, u6.id, u6.group_id, t.editor_group_id2, t.is_draft2, t.is_public2, t.name2, t.owner_group_id2, t.owner_user_id2, t.reader_group_id2, u7.id, u7.group_id
FROM (
    SELECT c.id, c.can_users_edit_tags, c.description, c.editor_group_id, c.is_draft, c.is_public, c.name, c.owner_group_id, c.owner_user_id, c.reader_group_id, u.id AS id0, u.editor_group_id AS editor_group_id0, u.is_draft AS is_draft0, u.is_public AS is_public0, u.name AS name0, u.owner_group_id AS owner_group_id0, u.owner_user_id AS owner_user_id0, u.reader_group_id AS reader_group_id0, u0.id AS id1, u0.editor_group_id AS editor_group_id1, u0.is_draft AS is_draft1, u0.is_public AS is_public1, u0.name AS name1, u0.owner_group_id AS owner_group_id1, u0.owner_user_id AS owner_user_id1, u0.reader_group_id AS reader_group_id1, u1.id AS id2, u1.editor_group_id AS editor_group_id2, u1.is_draft AS is_draft2, u1.is_public AS is_public2, u1.name AS name2, u1.owner_group_id AS owner_group_id2, u1.owner_user_id AS owner_user_id2, u1.reader_group_id AS reader_group_id2
    FROM content_posts AS c
    LEFT JOIN user_groups AS u ON c.reader_group_id = u.id
    LEFT JOIN user_groups AS u0 ON c.editor_group_id = u0.id
    LEFT JOIN user_groups AS u1 ON c.owner_group_id = u1.id
    WHERE (c.is_public AND NOT (c.is_draft)) OR c.owner_user_id = @__userId_0 OR (u.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u2
        WHERE u.id IS NOT NULL AND u.id = u2.group_id AND u2.id = @__userId_0)) OR (u0.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u3
        WHERE u0.id IS NOT NULL AND u0.id = u3.group_id AND u3.id = @__userId_0)) OR (u1.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u4
        WHERE u1.id IS NOT NULL AND u1.id = u4.group_id AND u4.id = @__userId_0))
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0.content_posts_id, c0.tags_name, t1.name, t1.description, t1.parent_name
    FROM content_post_tag AS c0
    INNER JOIN tags AS t1 ON c0.tags_name = t1.name
) AS t0 ON t.id = t0.content_posts_id
LEFT JOIN users AS u5 ON t.id0 = u5.group_id
LEFT JOIN users AS u6 ON t.id1 = u6.group_id
LEFT JOIN users AS u7 ON t.id2 = u7.group_id
ORDER BY t.id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, u5.id, u6.id
2024-09-23 00:48:47.002 +03:00 [INF] Executed DbCommand (6ms) [Parameters=[@__userId_0='ffcd9487-b51a-4566-b399-4d160c4f8fb5', @__p_2='20', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.can_users_edit_tags, t.description, t.editor_group_id, t.is_draft, t.is_public, t.name, t.owner_group_id, t.owner_user_id, t.reader_group_id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, t0.description, t0.parent_name, t.editor_group_id0, t.is_draft0, t.is_public0, t.name0, t.owner_group_id0, t.owner_user_id0, t.reader_group_id0, u5.id, u5.group_id, t.editor_group_id1, t.is_draft1, t.is_public1, t.name1, t.owner_group_id1, t.owner_user_id1, t.reader_group_id1, u6.id, u6.group_id, t.editor_group_id2, t.is_draft2, t.is_public2, t.name2, t.owner_group_id2, t.owner_user_id2, t.reader_group_id2, u7.id, u7.group_id
FROM (
    SELECT c.id, c.can_users_edit_tags, c.description, c.editor_group_id, c.is_draft, c.is_public, c.name, c.owner_group_id, c.owner_user_id, c.reader_group_id, u.id AS id0, u.editor_group_id AS editor_group_id0, u.is_draft AS is_draft0, u.is_public AS is_public0, u.name AS name0, u.owner_group_id AS owner_group_id0, u.owner_user_id AS owner_user_id0, u.reader_group_id AS reader_group_id0, u0.id AS id1, u0.editor_group_id AS editor_group_id1, u0.is_draft AS is_draft1, u0.is_public AS is_public1, u0.name AS name1, u0.owner_group_id AS owner_group_id1, u0.owner_user_id AS owner_user_id1, u0.reader_group_id AS reader_group_id1, u1.id AS id2, u1.editor_group_id AS editor_group_id2, u1.is_draft AS is_draft2, u1.is_public AS is_public2, u1.name AS name2, u1.owner_group_id AS owner_group_id2, u1.owner_user_id AS owner_user_id2, u1.reader_group_id AS reader_group_id2
    FROM content_posts AS c
    LEFT JOIN user_groups AS u ON c.reader_group_id = u.id
    LEFT JOIN user_groups AS u0 ON c.editor_group_id = u0.id
    LEFT JOIN user_groups AS u1 ON c.owner_group_id = u1.id
    WHERE (c.is_public AND NOT (c.is_draft)) OR c.owner_user_id = @__userId_0 OR (u.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u2
        WHERE u.id IS NOT NULL AND u.id = u2.group_id AND u2.id = @__userId_0)) OR (u0.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u3
        WHERE u0.id IS NOT NULL AND u0.id = u3.group_id AND u3.id = @__userId_0)) OR (u1.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u4
        WHERE u1.id IS NOT NULL AND u1.id = u4.group_id AND u4.id = @__userId_0))
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0.content_posts_id, c0.tags_name, t1.name, t1.description, t1.parent_name
    FROM content_post_tag AS c0
    INNER JOIN tags AS t1 ON c0.tags_name = t1.name
) AS t0 ON t.id = t0.content_posts_id
LEFT JOIN users AS u5 ON t.id0 = u5.group_id
LEFT JOIN users AS u6 ON t.id1 = u6.group_id
LEFT JOIN users AS u7 ON t.id2 = u7.group_id
ORDER BY t.id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, u5.id, u6.id
2024-09-23 00:48:47.003 +03:00 [DBG] Closing data reader to 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:47.003 +03:00 [DBG] A data reader for 'content_manager' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-23 00:48:47.003 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:47.004 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:48:47.024 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 00:48:47.025 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 00:48:47.025 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 00:48:47.026 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 00:48:47.026 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 00:48:47.026 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse, ContentManager.Api.Contracts.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 00:48:47.034 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 350.3217ms
2024-09-23 00:48:47.035 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 00:48:47.035 +03:00 [DBG] Connection id "0HN6RA15397SQ" completed keep alive response.
2024-09-23 00:48:47.036 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:48:47.036 +03:00 [DBG] Disposing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:48:47.036 +03:00 [DBG] Disposed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:48:47.037 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 200 null application/json; charset=utf-8 379.3064ms
2024-09-23 00:49:14.313 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 78
2024-09-23 00:49:14.313 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:49:14.313 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:49:14.313 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:49:14.316 +03:00 [INF] Successfully validated the token.
2024-09-23 00:49:14.316 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:49:14.317 +03:00 [DBG] Authorization was successful.
2024-09-23 00:49:14.317 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:49:14.317 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:49:14.318 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:49:14.318 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:49:14.318 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:49:14.318 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:49:14.318 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:49:14.318 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:49:14.318 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:49:14.325 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:49:14.325 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:49:14.326 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:49:14.326 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:49:14.326 +03:00 [DBG] Connection id "0HN6RA15397SQ", Request id "0HN6RA15397SQ:00000003": started reading request body.
2024-09-23 00:49:14.326 +03:00 [DBG] Connection id "0HN6RA15397SQ", Request id "0HN6RA15397SQ:00000003": done reading request body.
2024-09-23 00:49:14.326 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:49:14.326 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:49:14.327 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:49:14.327 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:49:14.327 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:49:14.330 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:49:14.345 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:14.348 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:14.386 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:14.387 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:14.391 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:49:14.391 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:49:14.402 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:49:14.404 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:49:14.404 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:49:14.422 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:49:14.425 +03:00 [DBG] 'ApplicationContext' generated value '"d9dfddd7-9eb0-48e4-b3bf-1cb5bc8a3761"' for the property 'ContentPost.Id'.
2024-09-23 00:49:14.452 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: d9dfddd7-9eb0-48e4-b3bf-1cb5bc8a3761}'.
2024-09-23 00:49:14.454 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:49:14.465 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:14.466 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:14.499 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:14.499 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:14.502 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:49:14.502 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:49:14.511 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:49:14.512 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:49:14.513 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:49:14.528 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:49:14.529 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:49:14.529 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:49:14.529 +03:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2024-09-23 00:49:14.530 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:49:14.530 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:49:14.530 +03:00 [DBG] SaveChanges completed for 'ApplicationContext' with 0 entities written to the database.
2024-09-23 00:49:14.530 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:49:14.530 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:49:14.530 +03:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2024-09-23 00:49:14.530 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:49:14.530 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:49:14.531 +03:00 [DBG] SaveChanges completed for 'ApplicationContext' with 0 entities written to the database.
2024-09-23 00:49:14.531 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 00:49:14.532 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 00:49:14.532 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 00:49:14.532 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 00:49:14.532 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 00:49:14.532 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-09-23 00:49:14.535 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 216.5195ms
2024-09-23 00:49:14.535 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:49:14.535 +03:00 [DBG] Connection id "0HN6RA15397SQ" completed keep alive response.
2024-09-23 00:49:14.535 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:49:14.536 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:49:14.536 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 200 null application/json; charset=utf-8 222.7893ms
2024-09-23 00:49:19.055 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 00:49:19.055 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:49:19.055 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:49:19.055 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 00:49:19.056 +03:00 [INF] Successfully validated the token.
2024-09-23 00:49:19.056 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:49:19.056 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:49:19.056 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 00:49:19.057 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:49:19.057 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:49:19.057 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:49:19.057 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:49:19.057 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:49:19.057 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:49:19.057 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:49:19.058 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:49:19.058 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 00:49:19.058 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 00:49:19.059 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 00:49:19.059 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 00:49:19.059 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 00:49:19.059 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 00:49:19.059 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 00:49:19.059 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 00:49:19.059 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 00:49:19.059 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 00:49:19.061 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:49:19.070 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:19.071 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:19.091 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:19.092 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:49:19.094 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:49:19.094 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:49:19.100 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:49:19.101 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:49:19.101 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:49:19.110 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:49:19.111 +03:00 [DBG] Compiling query expression: 
'DbSet<ContentPost>()
    .Include(p => p.Tags)
    .Include(g => g.ReaderGroup)
    .ThenInclude(g => g.Users)
    .Include(g => g.EditorGroup)
    .ThenInclude(g => g.Users)
    .Include(g => g.OwnerGroup)
    .ThenInclude(g => g.Users)
    .AsTracking()
    .Where(r => ((IAuthorizedResource)r).IsPublic && !(((IAuthorizedResource)r).IsDraft) || ((IAuthorizedResource)r).OwnerUserId == __userId_0 || ((IAuthorizedResource)r).ReaderGroup != null && ((IAuthorizedResource)r).ReaderGroup.Users
        .Any(u => u.Id == __userId_0) || ((IAuthorizedResource)r).EditorGroup != null && ((IAuthorizedResource)r).EditorGroup.Users
        .Any(u => u.Id == __userId_0) || ((IAuthorizedResource)r).OwnerGroup != null && ((IAuthorizedResource)r).OwnerGroup.Users
        .Any(u => u.Id == __userId_0))
    .Skip(__p_1)
    .Take(__p_2)'
2024-09-23 00:49:19.112 +03:00 [DBG] Including navigation: 'ContentPost.Tags'.
2024-09-23 00:49:19.113 +03:00 [DBG] Including navigation: 'ContentPost.ReaderGroup'.
2024-09-23 00:49:19.114 +03:00 [DBG] Including navigation: 'UserGroup.Users'.
2024-09-23 00:49:19.114 +03:00 [DBG] Including navigation: 'ContentPost.EditorGroup'.
2024-09-23 00:49:19.114 +03:00 [DBG] Including navigation: 'UserGroup.Users'.
2024-09-23 00:49:19.115 +03:00 [DBG] Including navigation: 'ContentPost.OwnerGroup'.
2024-09-23 00:49:19.115 +03:00 [DBG] Including navigation: 'UserGroup.Users'.
2024-09-23 00:49:19.119 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-23 00:49:19.119 +03:00 [WRN] The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.
2024-09-23 00:49:19.155 +03:00 [WRN] Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.
2024-09-23 00:49:19.170 +03:00 [DBG] Generated query execution expression: 
'queryContext => new SingleQueryingEnumerable<ContentPost>(
    (RelationalQueryContext)queryContext, 
    RelationalCommandCache.QueryExpression(
        Client Projections:
            0 -> Dictionary<IProperty, int> { [Property: ContentPost.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: ContentPost.CanUsersEditTags (bool) Required, 1], [Property: ContentPost.Description (string) Required MaxLength(2048), 2], [Property: ContentPost.EditorGroupId (Guid?) FK Index, 3], [Property: ContentPost.IsDraft (bool) Required, 4], [Property: ContentPost.IsPublic (bool) Required, 5], [Property: ContentPost.Name (string) Required MaxLength(128), 6], [Property: ContentPost.OwnerGroupId (Guid?) FK Index, 7], [Property: ContentPost.OwnerUserId (string) Required FK Index MaxLength(36), 8], [Property: ContentPost.ReaderGroupId (Guid?) FK Index, 9] }
            1 -> 0
            2 -> 10
            3 -> 11
            4 -> 12
            5 -> Dictionary<IProperty, int> { [Property: ContentPostTag (Dictionary<string, object>).ContentPostsId (no field, Guid) Indexer Required PK FK AfterSave:Throw, 13], [Property: ContentPostTag (Dictionary<string, object>).TagsName (no field, string) Indexer Required PK FK Index AfterSave:Throw, 14] }
            6 -> Dictionary<IProperty, int> { [Property: Tag.Name (string) Required PK AfterSave:Throw MaxLength(128), 15], [Property: Tag.Description (string) Required MaxLength(2048), 16], [Property: Tag.ParentName (string) FK Index MaxLength(128), 17] }
            7 -> 13
            8 -> 14
            9 -> 15
            10 -> Dictionary<IProperty, int> { [Property: UserGroup.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 10], [Property: UserGroup.EditorGroupId (Guid?) FK Index, 18], [Property: UserGroup.IsDraft (bool) Required, 19], [Property: UserGroup.IsPublic (bool) Required, 20], [Property: UserGroup.Name (string) Required MaxLength(128), 21], [Property: UserGroup.OwnerGroupId (Guid?) FK Index, 22], [Property: UserGroup.OwnerUserId (string) Required FK Index MaxLength(36), 23], [Property: UserGroup.ReaderGroupId (Guid?) FK Index, 24] }
            11 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(36), 25], [Property: User.GroupId (Guid) Required FK Index, 26] }
            12 -> 25
            13 -> Dictionary<IProperty, int> { [Property: UserGroup.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: UserGroup.EditorGroupId (Guid?) FK Index, 27], [Property: UserGroup.IsDraft (bool) Required, 28], [Property: UserGroup.IsPublic (bool) Required, 29], [Property: UserGroup.Name (string) Required MaxLength(128), 30], [Property: UserGroup.OwnerGroupId (Guid?) FK Index, 31], [Property: UserGroup.OwnerUserId (string) Required FK Index MaxLength(36), 32], [Property: UserGroup.ReaderGroupId (Guid?) FK Index, 33] }
            14 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(36), 34], [Property: User.GroupId (Guid) Required FK Index, 35] }
            15 -> 34
            16 -> Dictionary<IProperty, int> { [Property: UserGroup.Id (Guid) Required PK AfterSave:Throw ValueGenerated.OnAdd, 12], [Property: UserGroup.EditorGroupId (Guid?) FK Index, 36], [Property: UserGroup.IsDraft (bool) Required, 37], [Property: UserGroup.IsPublic (bool) Required, 38], [Property: UserGroup.Name (string) Required MaxLength(128), 39], [Property: UserGroup.OwnerGroupId (Guid?) FK Index, 40], [Property: UserGroup.OwnerUserId (string) Required FK Index MaxLength(36), 41], [Property: UserGroup.ReaderGroupId (Guid?) FK Index, 42] }
            17 -> Dictionary<IProperty, int> { [Property: User.Id (string) Required PK AfterSave:Throw MaxLength(36), 43], [Property: User.GroupId (Guid) Required FK Index, 44] }
            18 -> 43
        SELECT t.id, t.can_users_edit_tags, t.description, t.editor_group_id, t.is_draft, t.is_public, t.name, t.owner_group_id, t.owner_user_id, t.reader_group_id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, t0.description, t0.parent_name, t.editor_group_id0, t.is_draft0, t.is_public0, t.name0, t.owner_group_id0, t.owner_user_id0, t.reader_group_id0, u5.id, u5.group_id, t.editor_group_id1, t.is_draft1, t.is_public1, t.name1, t.owner_group_id1, t.owner_user_id1, t.reader_group_id1, u6.id, u6.group_id, t.editor_group_id2, t.is_draft2, t.is_public2, t.name2, t.owner_group_id2, t.owner_user_id2, t.reader_group_id2, u7.id, u7.group_id
        FROM 
        (
            SELECT c.id, c.can_users_edit_tags, c.description, c.editor_group_id, c.is_draft, c.is_public, c.name, c.owner_group_id, c.owner_user_id, c.reader_group_id, u.id AS id0, u.editor_group_id AS editor_group_id0, u.is_draft AS is_draft0, u.is_public AS is_public0, u.name AS name0, u.owner_group_id AS owner_group_id0, u.owner_user_id AS owner_user_id0, u.reader_group_id AS reader_group_id0, u0.id AS id1, u0.editor_group_id AS editor_group_id1, u0.is_draft AS is_draft1, u0.is_public AS is_public1, u0.name AS name1, u0.owner_group_id AS owner_group_id1, u0.owner_user_id AS owner_user_id1, u0.reader_group_id AS reader_group_id1, u1.id AS id2, u1.editor_group_id AS editor_group_id2, u1.is_draft AS is_draft2, u1.is_public AS is_public2, u1.name AS name2, u1.owner_group_id AS owner_group_id2, u1.owner_user_id AS owner_user_id2, u1.reader_group_id AS reader_group_id2
            FROM content_posts AS c
            LEFT JOIN user_groups AS u ON c.reader_group_id == u.id
            LEFT JOIN user_groups AS u0 ON c.editor_group_id == u0.id
            LEFT JOIN user_groups AS u1 ON c.owner_group_id == u1.id
            WHERE ((((c.is_public && Not(c.is_draft)) || (c.owner_user_id == @__userId_0)) || (Not(u.id == NULL) && EXISTS (
                SELECT 1
                FROM users AS u2
                WHERE ((u.id != NULL) && (u.id == u2.group_id)) && (u2.id == @__userId_0)))) || (Not(u0.id == NULL) && EXISTS (
                SELECT 1
                FROM users AS u3
                WHERE ((u0.id != NULL) && (u0.id == u3.group_id)) && (u3.id == @__userId_0)))) || (Not(u1.id == NULL) && EXISTS (
                SELECT 1
                FROM users AS u4
                WHERE ((u1.id != NULL) && (u1.id == u4.group_id)) && (u4.id == @__userId_0)))
            OFFSET @__p_1 ROWS FETCH NEXT @__p_2 ROWS ONLY
        ) AS t
        LEFT JOIN 
        (
            SELECT c0.content_posts_id, c0.tags_name, t1.name, t1.description, t1.parent_name
            FROM content_post_tag AS c0
            INNER JOIN tags AS t1 ON c0.tags_name == t1.name
        ) AS t0 ON t.id == t0.content_posts_id
        LEFT JOIN users AS u5 ON t.id0 == u5.group_id
        LEFT JOIN users AS u6 ON t.id1 == u6.group_id
        LEFT JOIN users AS u7 ON t.id2 == u7.group_id
        ORDER BY t.id ASC, t.id0 ASC, t.id1 ASC, t.id2 ASC, t0.content_posts_id ASC, t0.tags_name ASC, t0.name ASC, u5.id ASC, u6.id ASC), 
    null, 
    Func<QueryContext, DbDataReader, ResultContext, SingleQueryResultCoordinator, ContentPost>, 
    ContentManager.Api.Persistence.Data.ApplicationContext, 
    False, 
    True, 
    True
)'
2024-09-23 00:49:19.173 +03:00 [DBG] Creating DbConnection.
2024-09-23 00:49:19.173 +03:00 [DBG] Created DbConnection. (0ms).
2024-09-23 00:49:19.173 +03:00 [DBG] Opening connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:49:19.188 +03:00 [DBG] Opened connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:49:19.188 +03:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-09-23 00:49:19.188 +03:00 [DBG] Created DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:49:19.188 +03:00 [DBG] Initialized DbCommand for 'ExecuteReader' (0ms).
2024-09-23 00:49:19.188 +03:00 [DBG] Executing DbCommand [Parameters=[@__userId_0='ffcd9487-b51a-4566-b399-4d160c4f8fb5', @__p_2='20', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.can_users_edit_tags, t.description, t.editor_group_id, t.is_draft, t.is_public, t.name, t.owner_group_id, t.owner_user_id, t.reader_group_id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, t0.description, t0.parent_name, t.editor_group_id0, t.is_draft0, t.is_public0, t.name0, t.owner_group_id0, t.owner_user_id0, t.reader_group_id0, u5.id, u5.group_id, t.editor_group_id1, t.is_draft1, t.is_public1, t.name1, t.owner_group_id1, t.owner_user_id1, t.reader_group_id1, u6.id, u6.group_id, t.editor_group_id2, t.is_draft2, t.is_public2, t.name2, t.owner_group_id2, t.owner_user_id2, t.reader_group_id2, u7.id, u7.group_id
FROM (
    SELECT c.id, c.can_users_edit_tags, c.description, c.editor_group_id, c.is_draft, c.is_public, c.name, c.owner_group_id, c.owner_user_id, c.reader_group_id, u.id AS id0, u.editor_group_id AS editor_group_id0, u.is_draft AS is_draft0, u.is_public AS is_public0, u.name AS name0, u.owner_group_id AS owner_group_id0, u.owner_user_id AS owner_user_id0, u.reader_group_id AS reader_group_id0, u0.id AS id1, u0.editor_group_id AS editor_group_id1, u0.is_draft AS is_draft1, u0.is_public AS is_public1, u0.name AS name1, u0.owner_group_id AS owner_group_id1, u0.owner_user_id AS owner_user_id1, u0.reader_group_id AS reader_group_id1, u1.id AS id2, u1.editor_group_id AS editor_group_id2, u1.is_draft AS is_draft2, u1.is_public AS is_public2, u1.name AS name2, u1.owner_group_id AS owner_group_id2, u1.owner_user_id AS owner_user_id2, u1.reader_group_id AS reader_group_id2
    FROM content_posts AS c
    LEFT JOIN user_groups AS u ON c.reader_group_id = u.id
    LEFT JOIN user_groups AS u0 ON c.editor_group_id = u0.id
    LEFT JOIN user_groups AS u1 ON c.owner_group_id = u1.id
    WHERE (c.is_public AND NOT (c.is_draft)) OR c.owner_user_id = @__userId_0 OR (u.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u2
        WHERE u.id IS NOT NULL AND u.id = u2.group_id AND u2.id = @__userId_0)) OR (u0.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u3
        WHERE u0.id IS NOT NULL AND u0.id = u3.group_id AND u3.id = @__userId_0)) OR (u1.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u4
        WHERE u1.id IS NOT NULL AND u1.id = u4.group_id AND u4.id = @__userId_0))
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0.content_posts_id, c0.tags_name, t1.name, t1.description, t1.parent_name
    FROM content_post_tag AS c0
    INNER JOIN tags AS t1 ON c0.tags_name = t1.name
) AS t0 ON t.id = t0.content_posts_id
LEFT JOIN users AS u5 ON t.id0 = u5.group_id
LEFT JOIN users AS u6 ON t.id1 = u6.group_id
LEFT JOIN users AS u7 ON t.id2 = u7.group_id
ORDER BY t.id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, u5.id, u6.id
2024-09-23 00:49:19.193 +03:00 [INF] Executed DbCommand (5ms) [Parameters=[@__userId_0='ffcd9487-b51a-4566-b399-4d160c4f8fb5', @__p_2='20', @__p_1='0'], CommandType='"Text"', CommandTimeout='30']
SELECT t.id, t.can_users_edit_tags, t.description, t.editor_group_id, t.is_draft, t.is_public, t.name, t.owner_group_id, t.owner_user_id, t.reader_group_id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, t0.description, t0.parent_name, t.editor_group_id0, t.is_draft0, t.is_public0, t.name0, t.owner_group_id0, t.owner_user_id0, t.reader_group_id0, u5.id, u5.group_id, t.editor_group_id1, t.is_draft1, t.is_public1, t.name1, t.owner_group_id1, t.owner_user_id1, t.reader_group_id1, u6.id, u6.group_id, t.editor_group_id2, t.is_draft2, t.is_public2, t.name2, t.owner_group_id2, t.owner_user_id2, t.reader_group_id2, u7.id, u7.group_id
FROM (
    SELECT c.id, c.can_users_edit_tags, c.description, c.editor_group_id, c.is_draft, c.is_public, c.name, c.owner_group_id, c.owner_user_id, c.reader_group_id, u.id AS id0, u.editor_group_id AS editor_group_id0, u.is_draft AS is_draft0, u.is_public AS is_public0, u.name AS name0, u.owner_group_id AS owner_group_id0, u.owner_user_id AS owner_user_id0, u.reader_group_id AS reader_group_id0, u0.id AS id1, u0.editor_group_id AS editor_group_id1, u0.is_draft AS is_draft1, u0.is_public AS is_public1, u0.name AS name1, u0.owner_group_id AS owner_group_id1, u0.owner_user_id AS owner_user_id1, u0.reader_group_id AS reader_group_id1, u1.id AS id2, u1.editor_group_id AS editor_group_id2, u1.is_draft AS is_draft2, u1.is_public AS is_public2, u1.name AS name2, u1.owner_group_id AS owner_group_id2, u1.owner_user_id AS owner_user_id2, u1.reader_group_id AS reader_group_id2
    FROM content_posts AS c
    LEFT JOIN user_groups AS u ON c.reader_group_id = u.id
    LEFT JOIN user_groups AS u0 ON c.editor_group_id = u0.id
    LEFT JOIN user_groups AS u1 ON c.owner_group_id = u1.id
    WHERE (c.is_public AND NOT (c.is_draft)) OR c.owner_user_id = @__userId_0 OR (u.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u2
        WHERE u.id IS NOT NULL AND u.id = u2.group_id AND u2.id = @__userId_0)) OR (u0.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u3
        WHERE u0.id IS NOT NULL AND u0.id = u3.group_id AND u3.id = @__userId_0)) OR (u1.id IS NOT NULL AND EXISTS (
        SELECT 1
        FROM users AS u4
        WHERE u1.id IS NOT NULL AND u1.id = u4.group_id AND u4.id = @__userId_0))
    LIMIT @__p_2 OFFSET @__p_1
) AS t
LEFT JOIN (
    SELECT c0.content_posts_id, c0.tags_name, t1.name, t1.description, t1.parent_name
    FROM content_post_tag AS c0
    INNER JOIN tags AS t1 ON c0.tags_name = t1.name
) AS t0 ON t.id = t0.content_posts_id
LEFT JOIN users AS u5 ON t.id0 = u5.group_id
LEFT JOIN users AS u6 ON t.id1 = u6.group_id
LEFT JOIN users AS u7 ON t.id2 = u7.group_id
ORDER BY t.id, t.id0, t.id1, t.id2, t0.content_posts_id, t0.tags_name, t0.name, u5.id, u6.id
2024-09-23 00:49:19.194 +03:00 [DBG] Closing data reader to 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:49:19.194 +03:00 [DBG] A data reader for 'content_manager' on server 'tcp://localhost:5432' is being disposed after spending 0ms reading results.
2024-09-23 00:49:19.194 +03:00 [DBG] Closing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:49:19.194 +03:00 [DBG] Closed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:49:19.194 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 00:49:19.194 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 00:49:19.194 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 00:49:19.194 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 00:49:19.194 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 00:49:19.194 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse, ContentManager.Api.Contracts.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 00:49:19.195 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 137.1559ms
2024-09-23 00:49:19.195 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 00:49:19.195 +03:00 [DBG] Connection id "0HN6RA15397SQ" completed keep alive response.
2024-09-23 00:49:19.195 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:49:19.195 +03:00 [DBG] Disposing connection to database 'content_manager' on server 'tcp://localhost:5432'.
2024-09-23 00:49:19.195 +03:00 [DBG] Disposed connection to database 'content_manager' on server 'tcp://localhost:5432' (0ms).
2024-09-23 00:49:19.195 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 200 null application/json; charset=utf-8 140.6581ms
2024-09-23 00:50:35.403 +03:00 [INF] Application is shutting down...
2024-09-23 00:50:35.404 +03:00 [DBG] Hosting stopping
2024-09-23 00:50:35.410 +03:00 [DBG] Connection id "0HN6RA15397SQ" disconnecting.
2024-09-23 00:50:35.411 +03:00 [DBG] Connection id "0HN6RA15397SQ" stopped.
2024-09-23 00:50:35.412 +03:00 [DBG] Connection id "0HN6RA15397SQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 00:50:35.417 +03:00 [DBG] Hosting stopped
2024-09-23 00:50:41.339 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 00:50:41.455 +03:00 [DBG] Hosting starting
2024-09-23 00:50:41.470 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 00:50:41.486 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 00:50:41.497 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 00:50:41.498 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 00:50:41.504 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 00:50:41.514 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 00:50:41.515 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 00:50:41.533 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 00:50:41.536 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 00:50:41.538 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 00:50:41.538 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 00:50:41.547 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 00:50:41.548 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 00:50:41.636 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 00:50:41.637 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 00:50:41.637 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 00:50:41.637 +03:00 [INF] Hosting environment: Development
2024-09-23 00:50:41.637 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 00:50:41.637 +03:00 [DBG] Hosting started
2024-09-23 00:50:50.495 +03:00 [DBG] Connection id "0HN6RA2FT2OJR" accepted.
2024-09-23 00:50:50.496 +03:00 [DBG] Connection id "0HN6RA2FT2OJR" started.
2024-09-23 00:50:50.533 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 78
2024-09-23 00:50:50.538 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 00:50:50.560 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 00:50:50.566 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 00:50:50.567 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:50:50.759 +03:00 [INF] Successfully validated the token.
2024-09-23 00:50:50.761 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 00:50:50.765 +03:00 [DBG] Authorization was successful.
2024-09-23 00:50:50.778 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 00:50:50.779 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:50:50.792 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 00:50:50.795 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 00:50:50.796 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 00:50:50.796 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 00:50:50.796 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 00:50:50.797 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 00:50:50.798 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:50:50.858 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 00:50:50.863 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:50:50.865 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 00:50:50.866 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 00:50:50.888 +03:00 [DBG] Connection id "0HN6RA2FT2OJR", Request id "0HN6RA2FT2OJR:00000001": started reading request body.
2024-09-23 00:50:50.888 +03:00 [DBG] Connection id "0HN6RA2FT2OJR", Request id "0HN6RA2FT2OJR:00000001": done reading request body.
2024-09-23 00:50:50.892 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 00:50:50.894 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:50:50.895 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:50:50.895 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 00:50:50.902 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 00:50:51.020 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging', configuration changed for 'Core:EnableDetailedErrors', configuration changed for 'Core:ConfigureWarnings', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseAdminDatabase', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:SetPostgresVersion', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:UseRedshift', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ReverseNullOrdering', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:RemoteCertificateValidationCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvideClientCertificatesCallback', configuration added for 'Npgsql.EntityFrameworkCore.PostgreSQL:ProvidePasswordCallback', configuration added for 'Naming:UseNamingConvention'.
2024-09-23 00:50:51.253 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:50:51.262 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:50:51.382 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:50:51.383 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:50:51.406 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:50:51.406 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:50:51.481 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:50:51.505 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:50:51.505 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:50:51.641 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:50:51.674 +03:00 [DBG] 'ApplicationContext' generated value '"096cf670-7340-4612-b034-2269baa2d750"' for the property 'ContentPost.Id'.
2024-09-23 00:50:51.734 +03:00 [DBG] Context 'ApplicationContext' started tracking 'ContentPost' entity with key '{Id: 096cf670-7340-4612-b034-2269baa2d750}'.
2024-09-23 00:50:51.739 +03:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: .
2024-09-23 00:50:51.756 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:50:51.758 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:50:51.788 +03:00 [DBG] No relationship from 'User' to 'UserGroup' has been configured by convention because there are multiple properties on one entity type - {'Group'} that could be matched with the properties on the other entity type - {'Owner', 'Users'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:50:51.789 +03:00 [DBG] No relationship from 'UserGroup' to 'User' has been configured by convention because there are multiple properties on one entity type - {'Owner', 'Users'} that could be matched with the properties on the other entity type - {'Group'}. This message can be disregarded if explicit configuration has been specified in 'OnModelCreating'.
2024-09-23 00:50:51.792 +03:00 [DBG] The index {'PostId'} was not created on entity type 'ContentPostCollection' as the properties are already covered by the index {'PostId', 'CollectionId'}.
2024-09-23 00:50:51.792 +03:00 [DBG] The index {'ContentPostsId'} was not created on entity type 'ContentPostTag (Dictionary<string, object>)' as the properties are already covered by the index {'ContentPostsId', 'TagsName'}.
2024-09-23 00:50:51.799 +03:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-09-23 00:50:51.801 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).ContentPostsId' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:50:51.801 +03:00 [DBG] The property 'ContentPostTag (Dictionary<string, object>).TagsName' was created in shadow state because there are no eligible CLR members with a matching name.
2024-09-23 00:50:51.823 +03:00 [DBG] Entity Framework Core 8.0.8 initialized 'ApplicationContext' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:8.0.4+51faf6e9c9c7ef99c3e98d98a96adb8fa8ae4553' with options: SensitiveDataLoggingEnabled DetailedErrorsEnabled using snake-case naming (culture=)
2024-09-23 00:50:51.825 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:50:51.827 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:50:51.831 +03:00 [DBG] SaveChanges starting for 'ApplicationContext'.
2024-09-23 00:50:51.832 +03:00 [DBG] DetectChanges starting for 'ApplicationContext'.
2024-09-23 00:50:51.832 +03:00 [DBG] DetectChanges completed for 'ApplicationContext'.
2024-09-23 00:50:51.839 +03:00 [DBG] SaveChanges completed for 'ApplicationContext' with 0 entities written to the database.
2024-09-23 00:50:51.841 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 00:50:51.842 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 00:50:51.842 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 00:50:51.842 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 00:50:51.842 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 00:50:51.843 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-09-23 00:50:51.852 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 1052.8528ms
2024-09-23 00:50:51.854 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 00:50:51.856 +03:00 [DBG] Connection id "0HN6RA2FT2OJR" completed keep alive response.
2024-09-23 00:50:51.858 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:50:51.864 +03:00 [DBG] 'ApplicationContext' disposed.
2024-09-23 00:50:51.865 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 200 null application/json; charset=utf-8 1332.9782ms
2024-09-23 00:52:47.278 +03:00 [DBG] Connection id "0HN6RA2FT2OJR" received FIN.
2024-09-23 00:52:47.279 +03:00 [DBG] Connection id "0HN6RA2FT2OJR" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 00:52:47.279 +03:00 [DBG] Connection id "0HN6RA2FT2OJR" disconnecting.
2024-09-23 00:52:47.280 +03:00 [DBG] Connection id "0HN6RA2FT2OJR" stopped.
2024-09-23 00:53:37.584 +03:00 [INF] Application is shutting down...
2024-09-23 00:53:37.585 +03:00 [DBG] Hosting stopping
2024-09-23 00:53:37.594 +03:00 [DBG] Hosting stopped
2024-09-23 19:33:04.878 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 19:33:04.983 +03:00 [DBG] Hosting starting
2024-09-23 19:33:04.990 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 19:33:05.000 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 19:33:05.006 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 19:33:05.006 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 19:33:05.011 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 19:33:05.016 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 19:33:05.017 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 19:33:05.025 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 19:33:05.028 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 19:33:05.030 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 19:33:05.030 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 19:33:05.041 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 19:33:05.043 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 19:33:05.089 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 19:33:05.089 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 19:33:05.089 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 19:33:05.089 +03:00 [INF] Hosting environment: Development
2024-09-23 19:33:05.089 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 19:33:05.090 +03:00 [DBG] Hosting started
2024-09-23 19:33:09.674 +03:00 [INF] Application is shutting down...
2024-09-23 19:33:09.675 +03:00 [DBG] Hosting stopping
2024-09-23 19:33:09.686 +03:00 [DBG] Hosting stopped
2024-09-23 19:33:21.220 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 19:33:21.319 +03:00 [DBG] Hosting starting
2024-09-23 19:33:21.330 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 19:33:21.340 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 19:33:21.346 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 19:33:21.347 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 19:33:21.353 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 19:33:21.363 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 19:33:21.364 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 19:33:21.373 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 19:33:21.377 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 19:33:21.381 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 19:33:21.382 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 19:33:21.395 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 19:33:21.397 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 19:33:21.470 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 19:33:21.470 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 19:33:21.471 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 19:33:21.471 +03:00 [INF] Hosting environment: Development
2024-09-23 19:33:21.471 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 19:33:21.471 +03:00 [DBG] Hosting started
2024-09-23 19:33:26.190 +03:00 [DBG] Connection id "0HN6RTLPF1O0R" accepted.
2024-09-23 19:33:26.191 +03:00 [DBG] Connection id "0HN6RTLPF1O0R" started.
2024-09-23 19:33:26.219 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 78
2024-09-23 19:33:26.226 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 19:33:26.253 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 19:33:26.257 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 19:33:26.259 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 19:33:26.467 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', Current time: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-09-23 19:33:26.473 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', Current time: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
2024-09-23 19:33:26.477 +03:00 [DBG] Policy authentication schemes  did not succeed
2024-09-23 19:33:26.479 +03:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2024-09-23 19:33:26.483 +03:00 [INF] AuthenticationScheme: Bearer was challenged.
2024-09-23 19:33:26.487 +03:00 [DBG] Connection id "0HN6RTLPF1O0R" completed keep alive response.
2024-09-23 19:33:26.488 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 401 0 null 271.4261ms
2024-09-23 19:33:26.494 +03:00 [DBG] Connection id "0HN6RTLPF1O0R", Request id "0HN6RTLPF1O0R:00000001": started reading request body.
2024-09-23 19:33:26.495 +03:00 [DBG] Connection id "0HN6RTLPF1O0R", Request id "0HN6RTLPF1O0R:00000001": done reading request body.
2024-09-23 19:33:35.588 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDE5OjMzOjMzIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=4a83fa66-2998-4b62-b8b5-e91d1224941a&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=7b122476-5638-42cc-ba91-3e06bb8dede2.4a83fa66-2998-4b62-b8b5-e91d1224941a.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 19:33:35.590 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 19:33:35.590 +03:00 [DBG] Request did not match any endpoints
2024-09-23 19:33:35.593 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 19:33:35.619 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 19:33:35.620 +03:00 [DBG] Connection id "0HN6RTLPF1O0R" completed keep alive response.
2024-09-23 19:33:35.620 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDE5OjMzOjMzIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=4a83fa66-2998-4b62-b8b5-e91d1224941a&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=7b122476-5638-42cc-ba91-3e06bb8dede2.4a83fa66-2998-4b62-b8b5-e91d1224941a.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 32.0505ms
2024-09-23 19:33:40.702 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 78
2024-09-23 19:33:40.702 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 19:33:40.702 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 19:33:40.702 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 19:33:40.718 +03:00 [INF] Successfully validated the token.
2024-09-23 19:33:40.718 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 19:33:40.720 +03:00 [DBG] Authorization was successful.
2024-09-23 19:33:40.723 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 19:33:40.726 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 19:33:40.756 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 19:33:40.758 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 19:33:40.760 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 19:33:40.760 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 19:33:40.761 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 19:33:40.761 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 19:33:40.764 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 19:33:40.805 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 19:33:40.809 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 19:33:40.810 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 19:33:40.811 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 19:33:40.833 +03:00 [DBG] Connection id "0HN6RTLPF1O0R", Request id "0HN6RTLPF1O0R:00000003": started reading request body.
2024-09-23 19:33:40.833 +03:00 [DBG] Connection id "0HN6RTLPF1O0R", Request id "0HN6RTLPF1O0R:00000003": done reading request body.
2024-09-23 19:33:40.838 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 19:33:40.838 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 19:33:40.838 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 19:33:40.838 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 19:33:40.847 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 19:33:41.958 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 1193.6034ms
2024-09-23 19:33:41.960 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 19:33:41.961 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_posts" violates foreign key constraint "fk_content_posts_users_owner_user_id"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_posts" violates foreign key constraint "fk_content_posts_users_owner_user_id"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_posts
    ConstraintName: fk_content_posts_users_owner_user_id
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.CreateAsync(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 40
   at ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost(ContentPostCreateRequest createRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 27
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 19:33:41.983 +03:00 [DBG] Connection id "0HN6RTLPF1O0R" completed keep alive response.
2024-09-23 19:33:41.991 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 500 null text/plain; charset=utf-8 1289.1559ms
2024-09-23 19:34:25.041 +03:00 [INF] Application is shutting down...
2024-09-23 19:34:25.042 +03:00 [DBG] Hosting stopping
2024-09-23 19:34:25.051 +03:00 [DBG] Connection id "0HN6RTLPF1O0R" disconnecting.
2024-09-23 19:34:25.053 +03:00 [DBG] Connection id "0HN6RTLPF1O0R" stopped.
2024-09-23 19:34:25.054 +03:00 [DBG] Connection id "0HN6RTLPF1O0R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 19:34:25.059 +03:00 [DBG] Hosting stopped
2024-09-23 20:31:27.624 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 20:31:27.713 +03:00 [DBG] Hosting starting
2024-09-23 20:31:27.722 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 20:31:27.729 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 20:31:27.736 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 20:31:27.737 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 20:31:27.743 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 20:31:27.746 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 20:31:27.747 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 20:31:27.755 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 20:31:27.758 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 20:31:27.760 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 20:31:27.760 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 20:31:27.768 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 20:31:27.770 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 20:31:27.812 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 20:31:27.813 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 20:31:27.813 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 20:31:27.813 +03:00 [INF] Hosting environment: Development
2024-09-23 20:31:27.813 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 20:31:27.813 +03:00 [DBG] Hosting started
2024-09-23 20:31:30.273 +03:00 [INF] Application is shutting down...
2024-09-23 20:31:30.273 +03:00 [DBG] Hosting stopping
2024-09-23 20:31:30.285 +03:00 [DBG] Hosting stopped
2024-09-23 20:34:47.814 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 20:34:47.908 +03:00 [DBG] Hosting starting
2024-09-23 20:34:47.916 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 20:34:47.930 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 20:34:47.937 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 20:34:47.938 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 20:34:47.940 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 20:34:47.948 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 20:34:47.949 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 20:34:47.957 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 20:34:47.960 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 20:34:47.963 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 20:34:47.963 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 20:34:47.971 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 20:34:47.974 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 20:34:48.019 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 20:34:48.020 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 20:34:48.020 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 20:34:48.021 +03:00 [INF] Hosting environment: Development
2024-09-23 20:34:48.021 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 20:34:48.021 +03:00 [DBG] Hosting started
2024-09-23 20:35:03.458 +03:00 [DBG] Connection id "0HN6RUO7AUFDH" accepted.
2024-09-23 20:35:03.458 +03:00 [DBG] Connection id "0HN6RUO7AUFDH" started.
2024-09-23 20:35:03.491 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjM1OjAxIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=7980f1cc-7ae3-4cdc-84f9-aa3b06f3f888.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 20:35:03.495 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 20:35:03.518 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 20:35:03.520 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:35:03.553 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:35:03.580 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 20:35:03.581 +03:00 [DBG] Connection id "0HN6RUO7AUFDH" completed keep alive response.
2024-09-23 20:35:03.583 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjM1OjAxIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=7980f1cc-7ae3-4cdc-84f9-aa3b06f3f888.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 95.1094ms
2024-09-23 20:35:08.994 +03:00 [INF] Request starting HTTP/1.1 POST http://localhost:5200/api/posts - application/json 78
2024-09-23 20:35:08.997 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 20:35:08.999 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 20:35:09.000 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 20:35:09.193 +03:00 [INF] Successfully validated the token.
2024-09-23 20:35:09.194 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:35:09.198 +03:00 [DBG] Authorization was successful.
2024-09-23 20:35:09.199 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:35:09.200 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 20:35:09.215 +03:00 [INF] Route matched with {action = "CreatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreatePost(ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:35:09.217 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:35:09.217 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:35:09.217 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:35:09.217 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:35:09.218 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:35:09.219 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:35:09.255 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:35:09.260 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 20:35:09.262 +03:00 [DBG] Attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' using the name '' in request data ...
2024-09-23 20:35:09.263 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 20:35:09.286 +03:00 [DBG] Connection id "0HN6RUO7AUFDH", Request id "0HN6RUO7AUFDH:00000002": started reading request body.
2024-09-23 20:35:09.286 +03:00 [DBG] Connection id "0HN6RUO7AUFDH", Request id "0HN6RUO7AUFDH:00000002": done reading request body.
2024-09-23 20:35:09.293 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'
2024-09-23 20:35:09.293 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 20:35:09.294 +03:00 [DBG] Done attempting to bind parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 20:35:09.294 +03:00 [DBG] Attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest' ...
2024-09-23 20:35:09.302 +03:00 [DBG] Done attempting to validate the bound parameter 'createRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostCreateRequest'.
2024-09-23 20:35:10.376 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 20:35:10.377 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 20:35:10.378 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 20:35:10.378 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 20:35:10.379 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 20:35:10.379 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Guid'.
2024-09-23 20:35:10.386 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation) in 1166.6525ms
2024-09-23 20:35:10.387 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.CreatePost (ContentManager.Api.Presentation)'
2024-09-23 20:35:10.388 +03:00 [DBG] Connection id "0HN6RUO7AUFDH" completed keep alive response.
2024-09-23 20:35:10.397 +03:00 [INF] Request finished HTTP/1.1 POST http://localhost:5200/api/posts - 200 null application/json; charset=utf-8 1403.6024ms
2024-09-23 20:35:34.486 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 20:35:34.487 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 20:35:34.487 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 20:35:34.487 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:35:34.492 +03:00 [INF] Successfully validated the token.
2024-09-23 20:35:34.493 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:35:34.495 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:35:34.496 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:35:34.503 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:35:34.503 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:35:34.503 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:35:34.503 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:35:34.504 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:35:34.504 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:35:34.504 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:35:34.513 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:35:34.518 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:35:34.520 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 20:35:34.527 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 20:35:34.528 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 20:35:34.529 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 20:35:34.529 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 20:35:34.531 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:35:34.531 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:35:34.531 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:35:34.533 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:35:34.936 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 432.3538ms
2024-09-23 20:35:34.937 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:35:34.938 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at lambda_method266(Closure, Object)
   at Mapster.TypeAdapter.Adapt[TDestination](Object source, TypeAdapterConfig config)
   at Mapster.TypeAdapter.Adapt[TDestination](Object source)
   at ContentManager.Api.Application.Services.ContentPostService.GetPageAsync(IPageDesc pageDesc) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 27
   at ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage(PageDesc pageDesc) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 16
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 20:35:34.954 +03:00 [DBG] Connection id "0HN6RUO7AUFDH" completed keep alive response.
2024-09-23 20:35:34.954 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 500 null text/plain; charset=utf-8 468.284ms
2024-09-23 20:36:45.773 +03:00 [INF] Application is shutting down...
2024-09-23 20:36:45.774 +03:00 [DBG] Hosting stopping
2024-09-23 20:36:45.781 +03:00 [DBG] Connection id "0HN6RUO7AUFDH" disconnecting.
2024-09-23 20:36:45.782 +03:00 [DBG] Connection id "0HN6RUO7AUFDH" stopped.
2024-09-23 20:36:45.783 +03:00 [DBG] Connection id "0HN6RUO7AUFDH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 20:36:45.789 +03:00 [DBG] Hosting stopped
2024-09-23 20:42:37.218 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 20:42:37.380 +03:00 [DBG] Hosting starting
2024-09-23 20:42:37.396 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 20:42:37.414 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 20:42:37.422 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 20:42:37.424 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 20:42:37.434 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 20:42:37.444 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 20:42:37.445 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 20:42:37.457 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 20:42:37.463 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 20:42:37.466 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 20:42:37.466 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 20:42:37.478 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 20:42:37.480 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 20:42:37.557 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 20:42:37.558 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 20:42:37.558 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 20:42:37.558 +03:00 [INF] Hosting environment: Development
2024-09-23 20:42:37.558 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 20:42:37.558 +03:00 [DBG] Hosting started
2024-09-23 20:42:43.357 +03:00 [DBG] Connection id "0HN6RUSGCSCO8" accepted.
2024-09-23 20:42:43.358 +03:00 [DBG] Connection id "0HN6RUSGCSCO8" started.
2024-09-23 20:42:43.392 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 20:42:43.397 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 20:42:43.430 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 20:42:43.433 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 20:42:43.433 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:42:43.660 +03:00 [INF] Successfully validated the token.
2024-09-23 20:42:43.662 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:42:43.679 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:42:43.680 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:42:43.700 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:42:43.702 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:42:43.702 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:42:43.703 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:42:43.703 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:42:43.703 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:42:43.705 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:42:43.742 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:42:43.750 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:42:43.751 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 20:42:43.753 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 20:42:43.754 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 20:42:43.756 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 20:42:43.757 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 20:42:43.758 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:42:43.758 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:42:43.759 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:42:43.765 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:42:44.926 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 1220.3486ms
2024-09-23 20:42:44.929 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:42:44.931 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.ArgumentNullException: Value cannot be null. (Parameter 'source')
   at System.Linq.ThrowHelper.ThrowArgumentNullException(ExceptionArgument argument)
   at System.Linq.Enumerable.Select[TSource,TResult](IEnumerable`1 source, Func`2 selector)
   at lambda_method125(Closure, Object)
   at Mapster.TypeAdapter.Adapt[TDestination](Object source, TypeAdapterConfig config)
   at Mapster.TypeAdapter.Adapt[TDestination](Object source)
   at ContentManager.Api.Application.Services.ContentPostService.GetPageAsync(IPageDesc pageDesc) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 27
   at ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage(PageDesc pageDesc) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 16
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 20:42:44.947 +03:00 [DBG] Connection id "0HN6RUSGCSCO8" completed keep alive response.
2024-09-23 20:42:44.955 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 500 null text/plain; charset=utf-8 1567.4956ms
2024-09-23 20:44:40.070 +03:00 [DBG] Connection id "0HN6RUSGCSCO8" received FIN.
2024-09-23 20:44:40.099 +03:00 [DBG] Connection id "0HN6RUSGCSCO8" disconnecting.
2024-09-23 20:44:40.103 +03:00 [DBG] Connection id "0HN6RUSGCSCO8" stopped.
2024-09-23 20:44:40.104 +03:00 [DBG] Connection id "0HN6RUSGCSCO8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 20:45:15.291 +03:00 [INF] Application is shutting down...
2024-09-23 20:45:15.292 +03:00 [DBG] Hosting stopping
2024-09-23 20:45:15.302 +03:00 [DBG] Hosting stopped
2024-09-23 20:45:22.250 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 20:45:22.325 +03:00 [DBG] Hosting starting
2024-09-23 20:45:22.332 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 20:45:22.338 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 20:45:22.343 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 20:45:22.343 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 20:45:22.348 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 20:45:22.355 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 20:45:22.355 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 20:45:22.362 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 20:45:22.364 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 20:45:22.365 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 20:45:22.365 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 20:45:22.372 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 20:45:22.373 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 20:45:22.403 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 20:45:22.403 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 20:45:22.404 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 20:45:22.404 +03:00 [INF] Hosting environment: Development
2024-09-23 20:45:22.404 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 20:45:22.404 +03:00 [DBG] Hosting started
2024-09-23 20:46:00.981 +03:00 [DBG] Connection id "0HN6RUUB9INI5" accepted.
2024-09-23 20:46:00.982 +03:00 [DBG] Connection id "0HN6RUUB9INI5" started.
2024-09-23 20:46:01.021 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 20:46:01.031 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 20:46:01.057 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 20:46:01.064 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 20:46:01.066 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:46:01.271 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', Current time: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-09-23 20:46:01.280 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', Current time: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
2024-09-23 20:46:01.298 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:46:01.299 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:46:01.317 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:46:01.319 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:46:01.319 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:46:01.319 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:46:01.319 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:46:01.320 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:46:01.321 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:46:01.361 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:46:01.367 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:46:01.368 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 20:46:01.371 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 20:46:01.371 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 20:46:01.373 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 20:46:01.373 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 20:46:01.375 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:46:01.375 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:46:01.375 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:46:01.382 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:46:02.588 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 20:46:02.589 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 20:46:02.589 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 20:46:02.589 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 20:46:02.590 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 20:46:02.590 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse, ContentManager.Api.Contracts.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 20:46:02.618 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 1295.5043ms
2024-09-23 20:46:02.620 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:46:02.622 +03:00 [DBG] Connection id "0HN6RUUB9INI5" completed keep alive response.
2024-09-23 20:46:02.631 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 200 null application/json; charset=utf-8 1613.1128ms
2024-09-23 20:46:12.951 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjQ2OjEyIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=eef5153c-6116-4cd7-b8ad-a6a3e27849d6.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 20:46:12.952 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 20:46:12.952 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:46:12.953 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:46:12.956 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 20:46:12.956 +03:00 [DBG] Connection id "0HN6RUUB9INI5" completed keep alive response.
2024-09-23 20:46:12.957 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjQ2OjEyIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=eef5153c-6116-4cd7-b8ad-a6a3e27849d6.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 5.5802ms
2024-09-23 20:46:15.656 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 20:46:15.657 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 20:46:15.657 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 20:46:15.658 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:46:15.677 +03:00 [INF] Successfully validated the token.
2024-09-23 20:46:15.679 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:46:15.683 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:46:15.683 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:46:15.683 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:46:15.684 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:46:15.684 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:46:15.684 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:46:15.684 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:46:15.685 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:46:15.685 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:46:15.696 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:46:15.698 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:46:15.700 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 20:46:15.701 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 20:46:15.701 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 20:46:15.701 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 20:46:15.702 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 20:46:15.702 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:46:15.702 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:46:15.702 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:46:15.704 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:46:15.875 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 20:46:15.875 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 20:46:15.876 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 20:46:15.876 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 20:46:15.876 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 20:46:15.876 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse, ContentManager.Api.Contracts.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 20:46:15.881 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 196.2736ms
2024-09-23 20:46:15.881 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:46:15.882 +03:00 [DBG] Connection id "0HN6RUUB9INI5" completed keep alive response.
2024-09-23 20:46:15.882 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 200 null application/json; charset=utf-8 226.0404ms
2024-09-23 20:46:37.360 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/index.html - null null
2024-09-23 20:46:37.361 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-23 20:46:37.361 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:46:37.361 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:46:37.412 +03:00 [DBG] Connection id "0HN6RUUB9INI5" completed keep alive response.
2024-09-23 20:46:37.413 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/index.html - 200 null text/html;charset=utf-8 52.3671ms
2024-09-23 20:46:37.564 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/favicon-16x16.png - null null
2024-09-23 20:46:37.564 +03:00 [DBG] Connection id "0HN6RUUB9INI5" received FIN.
2024-09-23 20:46:37.564 +03:00 [DBG] No candidates found for the request path '/swagger/favicon-16x16.png'
2024-09-23 20:46:37.564 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:46:37.565 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:46:37.565 +03:00 [DBG] Connection id "0HN6RUUB9INI5" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 20:46:37.571 +03:00 [DBG] Connection id "0HN6RUUB9INI5" disconnecting.
2024-09-23 20:46:37.572 +03:00 [INF] Sending file. Request path: '/favicon-16x16.png'. Physical path: 'N/A'
2024-09-23 20:46:37.572 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/favicon-16x16.png - 200 665 image/png 8.1905ms
2024-09-23 20:46:37.574 +03:00 [DBG] Connection id "0HN6RUUB9INI5" stopped.
2024-09-23 20:46:37.632 +03:00 [DBG] Connection id "0HN6RUUB9INI6" accepted.
2024-09-23 20:46:37.633 +03:00 [DBG] Connection id "0HN6RUUB9INI6" started.
2024-09-23 20:46:37.633 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - null null
2024-09-23 20:46:37.633 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-23 20:46:37.633 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:46:37.634 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:46:37.731 +03:00 [DBG] Connection id "0HN6RUUB9INI6" completed keep alive response.
2024-09-23 20:46:37.731 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 98.351ms
2024-09-23 20:46:41.364 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjQ2OjQxIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=58216fd4-fa3d-404f-a0e3-cb5be508d82d.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 20:46:41.365 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 20:46:41.365 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:46:41.365 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:46:41.366 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 20:46:41.366 +03:00 [DBG] Connection id "0HN6RUUB9INI6" completed keep alive response.
2024-09-23 20:46:41.366 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjQ2OjQxIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=58216fd4-fa3d-404f-a0e3-cb5be508d82d.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 2.0271ms
2024-09-23 20:46:50.865 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - null null
2024-09-23 20:46:50.865 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 20:46:50.866 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 20:46:50.866 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 20:46:50.867 +03:00 [INF] Successfully validated the token.
2024-09-23 20:46:50.867 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:46:50.868 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:46:50.868 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 20:46:50.871 +03:00 [INF] Route matched with {action = "GetPost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPost(System.Guid) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:46:50.871 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:46:50.871 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:46:50.871 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:46:50.872 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:46:50.872 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:46:50.872 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:46:50.879 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:46:50.881 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 20:46:50.883 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 20:46:50.883 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 20:46:50.883 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 20:46:50.884 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 20:46:50.884 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 20:46:51.003 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 20:46:51.003 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 20:46:51.003 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 20:46:51.003 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 20:46:51.003 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 20:46:51.003 +03:00 [INF] Executing OkObjectResult, writing value of type 'ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse'.
2024-09-23 20:46:51.003 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation) in 131.3295ms
2024-09-23 20:46:51.003 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 20:46:51.003 +03:00 [DBG] Connection id "0HN6RUUB9INI6" completed keep alive response.
2024-09-23 20:46:51.004 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 null application/json; charset=utf-8 138.6357ms
2024-09-23 20:47:10.881 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 58
2024-09-23 20:47:10.881 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 20:47:10.881 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 20:47:10.882 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 20:47:10.882 +03:00 [INF] Successfully validated the token.
2024-09-23 20:47:10.882 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:47:10.885 +03:00 [DBG] Authorization was successful.
2024-09-23 20:47:10.885 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:47:10.885 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 20:47:10.890 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:47:10.890 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:47:10.891 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:47:10.891 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:47:10.891 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:47:10.891 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:47:10.891 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:47:10.891 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:47:10.892 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 20:47:10.892 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 20:47:10.892 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 20:47:10.892 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 20:47:10.892 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 20:47:10.893 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 20:47:10.893 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 20:47:10.895 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 20:47:10.897 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 20:47:10.904 +03:00 [DBG] Connection id "0HN6RUUB9INI6", Request id "0HN6RUUB9INI6:00000004": started reading request body.
2024-09-23 20:47:10.905 +03:00 [DBG] Connection id "0HN6RUUB9INI6", Request id "0HN6RUUB9INI6:00000004": done reading request body.
2024-09-23 20:47:10.911 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 20:47:10.912 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 20:47:10.912 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 20:47:10.912 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 20:47:10.915 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 20:47:11.239 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 347.8681ms
2024-09-23 20:47:11.239 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 20:47:11.240 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23502: null value in column "name" of relation "content_posts" violates not-null constraint

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23502
    MessageText: null value in column "name" of relation "content_posts" violates not-null constraint
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_posts
    ColumnName: name
    File: execMain.c
    Line: 2003
    Routine: ExecConstraints
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.UpdateAsync(Guid id, ContentPostUpdateRequest updateRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 59
   at ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost(Guid id, ContentPostUpdateRequest updateRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 20:47:11.259 +03:00 [DBG] Connection id "0HN6RUUB9INI6" completed keep alive response.
2024-09-23 20:47:11.259 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 500 null text/plain; charset=utf-8 377.873ms
2024-09-23 20:49:07.014 +03:00 [DBG] Connection id "0HN6RUUB9INI6" received FIN.
2024-09-23 20:49:07.015 +03:00 [DBG] Connection id "0HN6RUUB9INI6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 20:49:07.016 +03:00 [DBG] Connection id "0HN6RUUB9INI6" disconnecting.
2024-09-23 20:49:07.017 +03:00 [DBG] Connection id "0HN6RUUB9INI6" stopped.
2024-09-23 20:49:09.540 +03:00 [INF] Application is shutting down...
2024-09-23 20:49:09.541 +03:00 [DBG] Hosting stopping
2024-09-23 20:49:09.548 +03:00 [DBG] Hosting stopped
2024-09-23 20:49:19.148 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 20:49:19.254 +03:00 [DBG] Hosting starting
2024-09-23 20:49:19.266 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 20:49:19.276 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 20:49:19.283 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 20:49:19.284 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 20:49:19.287 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 20:49:19.293 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 20:49:19.294 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 20:49:19.300 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 20:49:19.304 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 20:49:19.308 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 20:49:19.308 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 20:49:19.317 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 20:49:19.318 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 20:49:19.366 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 20:49:19.366 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 20:49:19.367 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 20:49:19.368 +03:00 [INF] Hosting environment: Development
2024-09-23 20:49:19.368 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 20:49:19.368 +03:00 [DBG] Hosting started
2024-09-23 20:49:22.749 +03:00 [DBG] Connection id "0HN6RV07DONT0" accepted.
2024-09-23 20:49:22.751 +03:00 [DBG] Connection id "0HN6RV07DONT0" started.
2024-09-23 20:49:22.777 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/index.html - null null
2024-09-23 20:49:22.781 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 20:49:22.796 +03:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-09-23 20:49:22.796 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:49:22.814 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:49:22.891 +03:00 [DBG] Connection id "0HN6RV07DONT0" completed keep alive response.
2024-09-23 20:49:22.892 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/index.html - 200 null text/html;charset=utf-8 116.3314ms
2024-09-23 20:49:23.102 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - null null
2024-09-23 20:49:23.103 +03:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-09-23 20:49:23.103 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:49:23.104 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:49:23.190 +03:00 [DBG] Connection id "0HN6RV07DONT0" completed keep alive response.
2024-09-23 20:49:23.191 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 88.5188ms
2024-09-23 20:49:26.847 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjQ5OjI2IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=070577ab-a857-4682-9680-7f81e71ad73f.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 20:49:26.847 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 20:49:26.848 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:49:26.849 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:49:26.859 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 20:49:26.859 +03:00 [DBG] Connection id "0HN6RV07DONT0" completed keep alive response.
2024-09-23 20:49:26.860 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjQ5OjI2IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=070577ab-a857-4682-9680-7f81e71ad73f.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 12.8415ms
2024-09-23 20:49:50.424 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 58
2024-09-23 20:49:50.431 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 20:49:50.433 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 20:49:50.434 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 20:49:50.635 +03:00 [INF] Successfully validated the token.
2024-09-23 20:49:50.636 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:49:50.639 +03:00 [DBG] Authorization was successful.
2024-09-23 20:49:50.639 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:49:50.640 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 20:49:50.657 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:49:50.659 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:49:50.660 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:49:50.660 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:49:50.660 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:49:50.661 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:49:50.662 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:49:50.697 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:49:50.700 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 20:49:50.702 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 20:49:50.702 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 20:49:50.702 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 20:49:50.702 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 20:49:50.704 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 20:49:50.705 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 20:49:50.705 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 20:49:50.706 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 20:49:50.716 +03:00 [DBG] Connection id "0HN6RV07DONT0", Request id "0HN6RV07DONT0:00000004": started reading request body.
2024-09-23 20:49:50.716 +03:00 [DBG] Connection id "0HN6RV07DONT0", Request id "0HN6RV07DONT0:00000004": done reading request body.
2024-09-23 20:49:50.721 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 20:49:50.721 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 20:49:50.721 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 20:49:50.721 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 20:49:50.730 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 20:49:52.085 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-09-23 20:49:52.088 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 1425.1743ms
2024-09-23 20:49:52.088 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 20:49:52.090 +03:00 [DBG] Connection id "0HN6RV07DONT0" completed keep alive response.
2024-09-23 20:49:52.098 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 0 null 1673.4559ms
2024-09-23 20:49:59.007 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 20:49:59.008 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 20:49:59.009 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 20:49:59.009 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:49:59.010 +03:00 [INF] Successfully validated the token.
2024-09-23 20:49:59.010 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:49:59.012 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:49:59.012 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:49:59.016 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:49:59.017 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:49:59.017 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:49:59.017 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:49:59.017 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:49:59.017 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:49:59.017 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:49:59.021 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:49:59.027 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:49:59.028 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 20:49:59.031 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 20:49:59.032 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 20:49:59.032 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 20:49:59.032 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 20:49:59.034 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:49:59.034 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:49:59.034 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:49:59.036 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:49:59.159 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 20:49:59.160 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 20:49:59.160 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 20:49:59.160 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 20:49:59.161 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 20:49:59.161 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse, ContentManager.Api.Contracts.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 20:49:59.168 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 150.7553ms
2024-09-23 20:49:59.168 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:49:59.169 +03:00 [DBG] Connection id "0HN6RV07DONT0" completed keep alive response.
2024-09-23 20:49:59.169 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 200 null application/json; charset=utf-8 161.658ms
2024-09-23 20:51:52.652 +03:00 [INF] Application is shutting down...
2024-09-23 20:51:52.652 +03:00 [DBG] Hosting stopping
2024-09-23 20:51:52.660 +03:00 [DBG] Connection id "0HN6RV07DONT0" disconnecting.
2024-09-23 20:51:52.662 +03:00 [DBG] Connection id "0HN6RV07DONT0" stopped.
2024-09-23 20:51:52.663 +03:00 [DBG] Connection id "0HN6RV07DONT0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 20:51:52.670 +03:00 [DBG] Hosting stopped
2024-09-23 20:53:12.995 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 20:53:13.129 +03:00 [DBG] Hosting starting
2024-09-23 20:53:13.169 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 20:53:13.180 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 20:53:13.187 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 20:53:13.187 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 20:53:13.193 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 20:53:13.202 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 20:53:13.203 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 20:53:13.212 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 20:53:13.216 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 20:53:13.229 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 20:53:13.229 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 20:53:13.241 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 20:53:13.243 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 20:53:13.353 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 20:53:13.354 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 20:53:13.354 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 20:53:13.354 +03:00 [INF] Hosting environment: Development
2024-09-23 20:53:13.354 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 20:53:13.354 +03:00 [DBG] Hosting started
2024-09-23 20:53:13.683 +03:00 [DBG] Connection id "0HN6RV2C84KSQ" accepted.
2024-09-23 20:53:13.685 +03:00 [DBG] Connection id "0HN6RV2C84KSQ" started.
2024-09-23 20:53:13.721 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 20:53:13.724 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 20:53:13.739 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 20:53:13.739 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:53:13.834 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:53:13.852 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 20:53:13.861 +03:00 [DBG] Connection id "0HN6RV2C84KSQ" completed keep alive response.
2024-09-23 20:53:13.863 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 143.1607ms
2024-09-23 20:53:13.868 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 20:53:13.934 +03:00 [DBG] Connection id "0HN6RV2C84KSQ" received FIN.
2024-09-23 20:53:13.935 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/favicon.ico - null null
2024-09-23 20:53:13.936 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2024-09-23 20:53:13.936 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:53:13.962 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:53:13.968 +03:00 [DBG] Connection id "0HN6RV2C84KSQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 20:53:13.969 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 20:53:13.973 +03:00 [DBG] Connection id "0HN6RV2C84KSQ" disconnecting.
2024-09-23 20:53:13.974 +03:00 [DBG] Connection id "0HN6RV2C84KSQ" completed keep alive response.
2024-09-23 20:53:13.974 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/favicon.ico - 404 0 null 38.8108ms
2024-09-23 20:53:13.974 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/favicon.ico, Response status code: 404
2024-09-23 20:53:13.977 +03:00 [DBG] Connection id "0HN6RV2C84KSQ" stopped.
2024-09-23 20:53:24.650 +03:00 [DBG] Connection id "0HN6RV2C84KSR" accepted.
2024-09-23 20:53:24.651 +03:00 [DBG] Connection id "0HN6RV2C84KSR" started.
2024-09-23 20:53:24.652 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjUzOjI0IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=5998a31e-efeb-4f1c-bd3d-d69a59835a1c.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 20:53:24.653 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 20:53:24.653 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:53:24.658 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:53:24.664 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 20:53:24.665 +03:00 [DBG] Connection id "0HN6RV2C84KSR" completed keep alive response.
2024-09-23 20:53:24.665 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjUzOjI0IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=5998a31e-efeb-4f1c-bd3d-d69a59835a1c.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 12.3597ms
2024-09-23 20:53:27.128 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 20:53:27.132 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 20:53:27.134 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 20:53:27.135 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:53:27.425 +03:00 [INF] Successfully validated the token.
2024-09-23 20:53:27.426 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:53:27.428 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:53:27.429 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:53:27.449 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:53:27.450 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:53:27.450 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:53:27.450 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:53:27.450 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:53:27.451 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:53:27.452 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:53:27.501 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:53:27.510 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:53:27.513 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 20:53:27.516 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 20:53:27.517 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 20:53:27.518 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 20:53:27.518 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 20:53:27.519 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:53:27.520 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:53:27.520 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:53:27.527 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:54:35.034 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 20:54:35.155 +03:00 [DBG] Hosting starting
2024-09-23 20:54:35.169 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 20:54:35.179 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 20:54:35.189 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 20:54:35.191 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 20:54:35.197 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 20:54:35.203 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 20:54:35.204 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 20:54:35.213 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 20:54:35.217 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 20:54:35.220 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 20:54:35.221 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 20:54:35.234 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 20:54:35.236 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 20:54:35.282 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 20:54:35.283 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 20:54:35.283 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 20:54:35.283 +03:00 [INF] Hosting environment: Development
2024-09-23 20:54:35.283 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 20:54:35.284 +03:00 [DBG] Hosting started
2024-09-23 20:54:41.185 +03:00 [DBG] Connection id "0HN6RV36AK28I" accepted.
2024-09-23 20:54:41.187 +03:00 [DBG] Connection id "0HN6RV36AK28I" started.
2024-09-23 20:54:41.222 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjU0OjQxIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=86bee743-3f0a-4b73-b241-313e2372c5a1.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 20:54:41.226 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 20:54:41.254 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 20:54:41.255 +03:00 [DBG] Request did not match any endpoints
2024-09-23 20:54:41.286 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 20:54:41.324 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 20:54:41.325 +03:00 [DBG] Connection id "0HN6RV36AK28I" completed keep alive response.
2024-09-23 20:54:41.328 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIwOjU0OjQxIEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=86bee743-3f0a-4b73-b241-313e2372c5a1.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 108.3296ms
2024-09-23 20:54:44.688 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 20:54:44.691 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 20:54:44.693 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 20:54:44.694 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:54:44.885 +03:00 [INF] Successfully validated the token.
2024-09-23 20:54:44.887 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:54:44.890 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:54:44.891 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:54:44.906 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:54:44.908 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:54:44.908 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:54:44.908 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:54:44.908 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:54:44.909 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:54:44.910 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:54:44.945 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:54:44.952 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:54:44.955 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 20:54:44.957 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 20:54:44.958 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 20:54:44.959 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 20:54:44.960 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 20:54:44.962 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:54:44.962 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:54:44.962 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 20:54:44.966 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 20:54:46.447 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 20:54:46.449 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 20:54:46.449 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 20:54:46.449 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 20:54:46.450 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 20:54:46.450 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse, ContentManager.Api.Contracts.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 20:54:46.484 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 1572.7505ms
2024-09-23 20:54:46.485 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 20:54:46.488 +03:00 [DBG] Connection id "0HN6RV36AK28I" completed keep alive response.
2024-09-23 20:54:46.496 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 200 null application/json; charset=utf-8 1808.4087ms
2024-09-23 20:55:43.990 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 64
2024-09-23 20:55:43.991 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 20:55:43.991 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 20:55:43.991 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 20:55:43.994 +03:00 [INF] Successfully validated the token.
2024-09-23 20:55:43.994 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 20:55:43.998 +03:00 [DBG] Authorization was successful.
2024-09-23 20:55:43.999 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 20:55:43.999 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 20:55:44.006 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 20:55:44.006 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 20:55:44.006 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 20:55:44.007 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 20:55:44.007 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 20:55:44.007 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 20:55:44.007 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:55:44.012 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 20:55:44.014 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 20:55:44.015 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 20:55:44.015 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 20:55:44.016 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 20:55:44.016 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 20:55:44.017 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 20:55:44.017 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 20:55:44.019 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 20:55:44.022 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 20:55:44.038 +03:00 [DBG] Connection id "0HN6RV36AK28I", Request id "0HN6RV36AK28I:00000003": started reading request body.
2024-09-23 20:55:44.038 +03:00 [DBG] Connection id "0HN6RV36AK28I", Request id "0HN6RV36AK28I:00000003": done reading request body.
2024-09-23 20:55:44.044 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 20:55:44.045 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 20:55:44.045 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 20:55:44.045 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 20:55:44.057 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 20:55:44.391 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 384.1095ms
2024-09-23 20:55:44.392 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 20:55:44.392 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_tags_tags_name"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_tags_tags_name"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_tags_tags_name
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.UpdateAsync(Guid id, ContentPostUpdateRequest updateRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 60
   at ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost(Guid id, ContentPostUpdateRequest updateRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 20:55:44.418 +03:00 [DBG] Connection id "0HN6RV36AK28I" completed keep alive response.
2024-09-23 20:55:44.419 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 500 null text/plain; charset=utf-8 428.6568ms
2024-09-23 20:56:59.686 +03:00 [INF] Application is shutting down...
2024-09-23 20:56:59.687 +03:00 [DBG] Hosting stopping
2024-09-23 20:56:59.694 +03:00 [DBG] Connection id "0HN6RV36AK28I" disconnecting.
2024-09-23 20:56:59.696 +03:00 [DBG] Connection id "0HN6RV36AK28I" stopped.
2024-09-23 20:56:59.697 +03:00 [DBG] Connection id "0HN6RV36AK28I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 20:56:59.702 +03:00 [DBG] Hosting stopped
2024-09-23 21:00:19.514 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 21:00:19.639 +03:00 [DBG] Hosting starting
2024-09-23 21:00:19.670 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 21:00:19.678 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 21:00:19.683 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 21:00:19.684 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 21:00:19.687 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 21:00:19.692 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 21:00:19.693 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 21:00:19.701 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 21:00:19.704 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 21:00:19.714 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 21:00:19.714 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 21:00:19.724 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 21:00:19.725 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 21:00:19.801 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 21:00:19.802 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 21:00:19.802 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 21:00:19.802 +03:00 [INF] Hosting environment: Development
2024-09-23 21:00:19.802 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 21:00:19.802 +03:00 [DBG] Hosting started
2024-09-23 21:00:20.125 +03:00 [DBG] Connection id "0HN6RV6BB0G95" accepted.
2024-09-23 21:00:20.127 +03:00 [DBG] Connection id "0HN6RV6BB0G95" started.
2024-09-23 21:00:20.161 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 21:00:20.165 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 21:00:20.179 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 21:00:20.180 +03:00 [DBG] Request did not match any endpoints
2024-09-23 21:00:20.245 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 21:00:20.266 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 21:00:20.271 +03:00 [DBG] Connection id "0HN6RV6BB0G95" completed keep alive response.
2024-09-23 21:00:20.273 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 113.1378ms
2024-09-23 21:00:20.279 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 21:00:29.401 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIxOjAwOjI5IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=bc1f7810-279a-45f5-9a93-7365a454b918.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 21:00:29.401 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 21:00:29.401 +03:00 [DBG] Request did not match any endpoints
2024-09-23 21:00:29.403 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 21:00:29.415 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 21:00:29.416 +03:00 [DBG] Connection id "0HN6RV6BB0G95" completed keep alive response.
2024-09-23 21:00:29.416 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIxOjAwOjI5IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=bc1f7810-279a-45f5-9a93-7365a454b918.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 15.2563ms
2024-09-23 21:00:34.440 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 64
2024-09-23 21:00:34.444 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:00:34.448 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:00:34.449 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:00:34.729 +03:00 [INF] Successfully validated the token.
2024-09-23 21:00:34.731 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:00:34.735 +03:00 [DBG] Authorization was successful.
2024-09-23 21:00:34.736 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:00:34.737 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:00:34.754 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:00:34.755 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:00:34.756 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:00:34.757 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:00:34.757 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:00:34.757 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:00:34.759 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:00:34.824 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:00:34.829 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:00:34.833 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:00:34.833 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:00:34.833 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:00:34.834 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:00:34.835 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:00:34.836 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:00:34.836 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 21:00:34.838 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 21:00:34.862 +03:00 [DBG] Connection id "0HN6RV6BB0G95", Request id "0HN6RV6BB0G95:00000003": started reading request body.
2024-09-23 21:00:34.862 +03:00 [DBG] Connection id "0HN6RV6BB0G95", Request id "0HN6RV6BB0G95:00000003": done reading request body.
2024-09-23 21:00:34.867 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 21:00:34.868 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:00:34.868 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:00:34.868 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:00:34.874 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:09:17.531 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 21:09:17.662 +03:00 [DBG] Hosting starting
2024-09-23 21:09:17.674 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 21:09:17.701 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 21:09:17.718 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 21:09:17.719 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 21:09:17.723 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 21:09:17.731 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 21:09:17.731 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 21:09:17.741 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 21:09:17.746 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 21:09:17.750 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 21:09:17.751 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 21:09:17.763 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 21:09:17.765 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 21:09:17.821 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 21:09:17.822 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 21:09:17.823 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 21:09:17.823 +03:00 [INF] Hosting environment: Development
2024-09-23 21:09:17.823 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 21:09:17.823 +03:00 [DBG] Hosting started
2024-09-23 21:09:28.010 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" accepted.
2024-09-23 21:09:28.010 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" started.
2024-09-23 21:09:28.042 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIxOjA5OjI3IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=a5178c78-68da-4cdc-94d6-4a99297604ec.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 21:09:28.047 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 21:09:28.068 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 21:09:28.069 +03:00 [DBG] Request did not match any endpoints
2024-09-23 21:09:28.089 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 21:09:28.116 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 21:09:28.117 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" completed keep alive response.
2024-09-23 21:09:28.119 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIxOjA5OjI3IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=a5178c78-68da-4cdc-94d6-4a99297604ec.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 78.3655ms
2024-09-23 21:09:35.500 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 64
2024-09-23 21:09:35.507 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:09:35.510 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:09:35.511 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:09:35.723 +03:00 [INF] Successfully validated the token.
2024-09-23 21:09:35.724 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:09:35.727 +03:00 [DBG] Authorization was successful.
2024-09-23 21:09:35.727 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:09:35.728 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:09:35.744 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:09:35.745 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:09:35.745 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:09:35.745 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:09:35.746 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:09:35.746 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:09:35.747 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:09:35.782 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:09:35.786 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:09:35.788 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:09:35.789 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:09:35.789 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:09:35.789 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:09:35.791 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:09:35.792 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:09:35.793 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 21:09:35.794 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 21:09:35.816 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q", Request id "0HN6RVBEK1N9Q:00000002": started reading request body.
2024-09-23 21:09:35.816 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q", Request id "0HN6RVBEK1N9Q:00000002": done reading request body.
2024-09-23 21:09:35.820 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 21:09:35.821 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:09:35.821 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:09:35.821 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:09:35.826 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:09:37.326 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 1577.8511ms
2024-09-23 21:09:37.327 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:09:37.328 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_tags_tags_name"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_tags_tags_name"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_tags_tags_name
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.UpdateAsync(Guid id, ContentPostUpdateRequest updateRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 62
   at ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost(Guid id, ContentPostUpdateRequest updateRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 21:09:37.356 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" completed keep alive response.
2024-09-23 21:09:37.363 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 500 null text/plain; charset=utf-8 1862.9239ms
2024-09-23 21:10:44.541 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 47
2024-09-23 21:10:44.542 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:10:44.542 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:10:44.542 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:10:44.546 +03:00 [INF] Successfully validated the token.
2024-09-23 21:10:44.546 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:10:44.550 +03:00 [DBG] Authorization was successful.
2024-09-23 21:10:44.552 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:10:44.553 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:10:44.554 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:10:44.554 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:10:44.554 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:10:44.554 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:10:44.555 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:10:44.555 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:10:44.555 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:10:44.560 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:10:44.561 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:10:44.561 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:10:44.561 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:10:44.561 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:10:44.561 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:10:44.562 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:10:44.562 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:10:44.562 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 21:10:44.562 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 21:10:44.562 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q", Request id "0HN6RVBEK1N9Q:00000003": started reading request body.
2024-09-23 21:10:44.563 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q", Request id "0HN6RVBEK1N9Q:00000003": done reading request body.
2024-09-23 21:10:44.568 +03:00 [DBG] JSON input formatter threw an exception: The JSON array contains a trailing comma at the end which is not supported in this mode. Change the reader options. Path: $.tags[2] | LineNumber: 4 | BytePositionInLine: 2.
2024-09-23 21:10:44.569 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:10:44.569 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:10:44.569 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:10:44.570 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:10:44.571 +03:00 [DBG] The request has model state errors, returning an error response.
2024-09-23 21:10:44.572 +03:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-09-23 21:10:44.575 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 21:10:44.577 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 21:10:44.577 +03:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-09-23 21:10:44.579 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-09-23 21:10:44.581 +03:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-09-23 21:10:44.611 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 56.0997ms
2024-09-23 21:10:44.612 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:10:44.612 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" completed keep alive response.
2024-09-23 21:10:44.613 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 400 null application/problem+json; charset=utf-8 71.7354ms
2024-09-23 21:10:46.804 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 46
2024-09-23 21:10:46.804 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:10:46.805 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:10:46.805 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:10:46.806 +03:00 [INF] Successfully validated the token.
2024-09-23 21:10:46.806 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:10:46.807 +03:00 [DBG] Authorization was successful.
2024-09-23 21:10:46.807 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:10:46.807 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:10:46.807 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:10:46.808 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:10:46.808 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:10:46.808 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:10:46.808 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:10:46.808 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:10:46.808 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:10:46.815 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:10:46.816 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:10:46.817 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:10:46.817 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:10:46.817 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:10:46.817 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:10:46.817 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:10:46.817 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:10:46.817 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 21:10:46.818 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 21:10:46.818 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q", Request id "0HN6RVBEK1N9Q:00000004": started reading request body.
2024-09-23 21:10:46.818 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q", Request id "0HN6RVBEK1N9Q:00000004": done reading request body.
2024-09-23 21:10:46.818 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 21:10:46.818 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:10:46.818 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:10:46.818 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:10:46.819 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:10:46.992 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 183.7643ms
2024-09-23 21:10:46.992 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:10:46.993 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_tags_tags_name"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_tags_tags_name"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_tags_tags_name
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.UpdateAsync(Guid id, ContentPostUpdateRequest updateRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 62
   at ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost(Guid id, ContentPostUpdateRequest updateRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 21:10:47.000 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" completed keep alive response.
2024-09-23 21:10:47.001 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 500 null text/plain; charset=utf-8 196.9877ms
2024-09-23 21:10:56.836 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 48
2024-09-23 21:10:56.836 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:10:56.836 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:10:56.836 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:10:56.837 +03:00 [INF] Successfully validated the token.
2024-09-23 21:10:56.837 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:10:56.838 +03:00 [DBG] Authorization was successful.
2024-09-23 21:10:56.838 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:10:56.838 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:10:56.838 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:10:56.838 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:10:56.838 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:10:56.838 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:10:56.839 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:10:56.839 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:10:56.839 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:10:56.839 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:10:56.839 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:10:56.840 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:10:56.840 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:10:56.840 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:10:56.840 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:10:56.840 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:10:56.840 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:10:56.840 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 21:10:56.841 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 21:10:56.841 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q", Request id "0HN6RVBEK1N9Q:00000005": started reading request body.
2024-09-23 21:10:56.841 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q", Request id "0HN6RVBEK1N9Q:00000005": done reading request body.
2024-09-23 21:10:56.841 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 21:10:56.841 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:10:56.841 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:10:56.841 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:10:56.841 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:10:56.982 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 143.574ms
2024-09-23 21:10:56.983 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:10:56.983 +03:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Npgsql.PostgresException (0x80004005): 23503: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_tags_tags_name"

DETAIL: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
   at Npgsql.Internal.NpgsqlConnector.ReadMessageLong(Boolean async, DataRowLoadingMode dataRowLoadingMode, Boolean readingNotifications, Boolean isReadingPrependedMessage)
   at System.Runtime.CompilerServices.PoolingAsyncValueTaskMethodBuilder`1.StateMachineBox`1.System.Threading.Tasks.Sources.IValueTaskSource<TResult>.GetResult(Int16 token)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlDataReader.NextResult(Boolean async, Boolean isConsuming, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteReader(Boolean async, CommandBehavior behavior, CancellationToken cancellationToken)
   at Npgsql.NpgsqlCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
  Exception data:
    Severity: ERROR
    SqlState: 23503
    MessageText: insert or update on table "content_post_tag" violates foreign key constraint "fk_content_post_tag_tags_tags_name"
    Detail: Detail redacted as it may contain sensitive data. Specify 'Include Error Detail' in the connection string to include this information.
    SchemaName: public
    TableName: content_post_tag
    ConstraintName: fk_content_post_tag_tags_tags_name
    File: ri_triggers.c
    Line: 2608
    Routine: ri_ReportViolation
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Npgsql.EntityFrameworkCore.PostgreSQL.Storage.Internal.NpgsqlExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at ContentManager.Api.Security.Services.Repository.SecureUnitOfWork.SaveChangesAsync(CancellationToken cancellationToken) in /home/filebin/projects/ContentManager/ContentManager.Api/Security/Services/Repository/SecureUnitOfWork.cs:line 28
   at ContentManager.Api.Application.Services.ContentPostService.UpdateAsync(Guid id, ContentPostUpdateRequest updateRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Applicaition/Services/ContentPostService.cs:line 62
   at ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost(Guid id, ContentPostUpdateRequest updateRequest) in /home/filebin/projects/ContentManager/ContentManager.Api/Presentation/Controllers/ContentPostController.cs:line 32
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-09-23 21:10:56.989 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" completed keep alive response.
2024-09-23 21:10:56.989 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 500 null text/plain; charset=utf-8 153.2956ms
2024-09-23 21:12:52.907 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" received FIN.
2024-09-23 21:12:52.908 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 21:12:52.908 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" disconnecting.
2024-09-23 21:12:52.910 +03:00 [DBG] Connection id "0HN6RVBEK1N9Q" stopped.
2024-09-23 21:21:02.257 +03:00 [INF] Application is shutting down...
2024-09-23 21:21:02.258 +03:00 [DBG] Hosting stopping
2024-09-23 21:21:02.267 +03:00 [DBG] Hosting stopped
2024-09-23 21:21:59.973 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 21:22:00.077 +03:00 [DBG] Hosting starting
2024-09-23 21:22:00.095 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 21:22:00.111 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 21:22:00.119 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 21:22:00.120 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 21:22:00.126 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 21:22:00.134 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 21:22:00.135 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 21:22:00.146 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 21:22:00.149 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 21:22:00.150 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 21:22:00.151 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 21:22:00.161 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 21:22:00.164 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 21:22:00.220 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 21:22:00.220 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 21:22:00.220 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 21:22:00.220 +03:00 [INF] Hosting environment: Development
2024-09-23 21:22:00.221 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 21:22:00.221 +03:00 [DBG] Hosting started
2024-09-23 21:22:09.477 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" accepted.
2024-09-23 21:22:09.478 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" started.
2024-09-23 21:22:09.514 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIxOjIyOjA5IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=fa1e74c4-c4af-4e1c-bd15-e98846738561.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 21:22:09.519 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 21:22:09.546 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 21:22:09.546 +03:00 [DBG] Request did not match any endpoints
2024-09-23 21:22:09.568 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 21:22:09.594 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 21:22:09.594 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" completed keep alive response.
2024-09-23 21:22:09.595 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIxOjIyOjA5IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=fa1e74c4-c4af-4e1c-bd15-e98846738561.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 83.0244ms
2024-09-23 21:22:29.845 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 19
2024-09-23 21:22:29.848 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:22:29.850 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:22:29.851 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:22:30.083 +03:00 [INF] Successfully validated the token.
2024-09-23 21:22:30.084 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:22:30.088 +03:00 [DBG] Authorization was successful.
2024-09-23 21:22:30.090 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:22:30.091 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:22:30.112 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:22:30.114 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:22:30.115 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:22:30.115 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:22:30.115 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:22:30.116 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:22:30.117 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:22:30.153 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:22:30.159 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:22:30.160 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:22:30.161 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:22:30.161 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:22:30.161 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:22:30.163 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:22:30.164 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:22:30.164 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 21:22:30.166 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 21:22:30.186 +03:00 [DBG] Connection id "0HN6RVIHHV7PI", Request id "0HN6RVIHHV7PI:00000002": started reading request body.
2024-09-23 21:22:30.187 +03:00 [DBG] Connection id "0HN6RVIHHV7PI", Request id "0HN6RVIHHV7PI:00000002": done reading request body.
2024-09-23 21:22:30.192 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 21:22:30.192 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:22:30.192 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:22:30.192 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:22:30.198 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:22:31.626 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-09-23 21:22:31.630 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 1511.1929ms
2024-09-23 21:22:31.630 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:22:31.631 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" completed keep alive response.
2024-09-23 21:22:31.639 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 0 null 1794.6486ms
2024-09-23 21:22:44.676 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - null null
2024-09-23 21:22:44.676 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:22:44.677 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:22:44.677 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:22:44.679 +03:00 [INF] Successfully validated the token.
2024-09-23 21:22:44.679 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:22:44.682 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:22:44.682 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:22:44.686 +03:00 [INF] Route matched with {action = "GetPost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPost(System.Guid) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:22:44.686 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:22:44.686 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:22:44.687 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:22:44.687 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:22:44.687 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:22:44.687 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:22:44.693 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:22:44.694 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:22:44.695 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:22:44.695 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:22:44.696 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:22:44.696 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:22:44.696 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:22:44.859 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 21:22:44.860 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 21:22:44.860 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 21:22:44.860 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 21:22:44.861 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 21:22:44.861 +03:00 [INF] Executing OkObjectResult, writing value of type 'ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse'.
2024-09-23 21:22:44.878 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation) in 190.4161ms
2024-09-23 21:22:44.878 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:22:44.879 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" completed keep alive response.
2024-09-23 21:22:44.879 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 null application/json; charset=utf-8 203.5242ms
2024-09-23 21:23:04.101 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 17
2024-09-23 21:23:04.101 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:04.101 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:04.101 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:23:04.102 +03:00 [INF] Successfully validated the token.
2024-09-23 21:23:04.102 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:23:04.104 +03:00 [DBG] Authorization was successful.
2024-09-23 21:23:04.105 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:23:04.105 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:23:04.105 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:23:04.105 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:23:04.105 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:23:04.105 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:23:04.105 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:23:04.106 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:23:04.106 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:04.115 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:04.115 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:04.116 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:23:04.116 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:04.116 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:04.116 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:04.116 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:04.116 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:23:04.117 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 21:23:04.117 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 21:23:04.117 +03:00 [DBG] Connection id "0HN6RVIHHV7PI", Request id "0HN6RVIHHV7PI:00000004": started reading request body.
2024-09-23 21:23:04.118 +03:00 [DBG] Connection id "0HN6RVIHHV7PI", Request id "0HN6RVIHHV7PI:00000004": done reading request body.
2024-09-23 21:23:04.118 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 21:23:04.118 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:23:04.118 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:23:04.119 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:23:04.119 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:23:04.320 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-09-23 21:23:04.320 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 214.4517ms
2024-09-23 21:23:04.321 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:23:04.321 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" completed keep alive response.
2024-09-23 21:23:04.322 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 0 null 220.7201ms
2024-09-23 21:23:10.851 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - null null
2024-09-23 21:23:10.851 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:10.851 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:10.852 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:23:10.852 +03:00 [INF] Successfully validated the token.
2024-09-23 21:23:10.853 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:23:10.853 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:23:10.853 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:23:10.854 +03:00 [INF] Route matched with {action = "GetPost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPost(System.Guid) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:23:10.854 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:23:10.854 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:23:10.854 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:23:10.855 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:23:10.855 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:23:10.855 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:10.855 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:10.855 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:10.855 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:23:10.856 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:10.856 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:10.856 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:10.856 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:10.964 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 21:23:10.964 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 21:23:10.964 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 21:23:10.964 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 21:23:10.964 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 21:23:10.964 +03:00 [INF] Executing OkObjectResult, writing value of type 'ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse'.
2024-09-23 21:23:10.965 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation) in 110.3455ms
2024-09-23 21:23:10.965 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:23:10.966 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" completed keep alive response.
2024-09-23 21:23:10.966 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 null application/json; charset=utf-8 114.9124ms
2024-09-23 21:23:17.167 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 21
2024-09-23 21:23:17.167 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:17.168 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:17.168 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:23:17.168 +03:00 [INF] Successfully validated the token.
2024-09-23 21:23:17.169 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:23:17.169 +03:00 [DBG] Authorization was successful.
2024-09-23 21:23:17.169 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:23:17.169 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:23:17.169 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:23:17.169 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:23:17.169 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:23:17.169 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:23:17.169 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:23:17.170 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:23:17.170 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:17.170 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:17.170 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:17.170 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:23:17.170 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:17.171 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:17.171 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:17.171 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:17.171 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:23:17.171 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 21:23:17.171 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 21:23:17.171 +03:00 [DBG] Connection id "0HN6RVIHHV7PI", Request id "0HN6RVIHHV7PI:00000006": started reading request body.
2024-09-23 21:23:17.172 +03:00 [DBG] Connection id "0HN6RVIHHV7PI", Request id "0HN6RVIHHV7PI:00000006": done reading request body.
2024-09-23 21:23:17.172 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 21:23:17.172 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:23:17.172 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:23:17.172 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:23:17.172 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:23:17.350 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-09-23 21:23:17.350 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 180.1246ms
2024-09-23 21:23:17.350 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:23:17.350 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" completed keep alive response.
2024-09-23 21:23:17.350 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 0 null 183.1533ms
2024-09-23 21:23:21.715 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - null null
2024-09-23 21:23:21.715 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:21.715 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:21.715 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:23:21.716 +03:00 [INF] Successfully validated the token.
2024-09-23 21:23:21.716 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:23:21.716 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:23:21.716 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:23:21.716 +03:00 [INF] Route matched with {action = "GetPost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPost(System.Guid) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:23:21.716 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:23:21.716 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:23:21.716 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:23:21.717 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:23:21.717 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:23:21.717 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:21.717 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:21.717 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:21.717 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:23:21.717 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:21.717 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:21.717 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:21.718 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:21.813 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 21:23:21.813 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 21:23:21.813 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 21:23:21.813 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 21:23:21.813 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 21:23:21.813 +03:00 [INF] Executing OkObjectResult, writing value of type 'ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse'.
2024-09-23 21:23:21.813 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation) in 96.654ms
2024-09-23 21:23:21.814 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:23:21.814 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" completed keep alive response.
2024-09-23 21:23:21.814 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 null application/json; charset=utf-8 99.3868ms
2024-09-23 21:23:30.688 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 28
2024-09-23 21:23:30.688 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:30.688 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:30.689 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:23:30.690 +03:00 [INF] Successfully validated the token.
2024-09-23 21:23:30.690 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:23:30.690 +03:00 [DBG] Authorization was successful.
2024-09-23 21:23:30.690 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:23:30.690 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:23:30.690 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:23:30.690 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:23:30.690 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:23:30.691 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:23:30.691 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:23:30.691 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:23:30.691 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:30.691 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:30.691 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:30.692 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:23:30.692 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:30.692 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:30.692 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:30.692 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:30.692 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:23:30.692 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 21:23:30.692 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 21:23:30.693 +03:00 [DBG] Connection id "0HN6RVIHHV7PI", Request id "0HN6RVIHHV7PI:00000008": started reading request body.
2024-09-23 21:23:30.693 +03:00 [DBG] Connection id "0HN6RVIHHV7PI", Request id "0HN6RVIHHV7PI:00000008": done reading request body.
2024-09-23 21:23:30.693 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 21:23:30.693 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:23:30.693 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:23:30.693 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:23:30.693 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:23:30.840 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-09-23 21:23:30.840 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 149.4044ms
2024-09-23 21:23:30.841 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:23:30.841 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" completed keep alive response.
2024-09-23 21:23:30.841 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 0 null 153.0676ms
2024-09-23 21:23:36.943 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - null null
2024-09-23 21:23:36.943 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:36.943 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:23:36.943 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:23:36.944 +03:00 [INF] Successfully validated the token.
2024-09-23 21:23:36.944 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:23:36.944 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:23:36.944 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:23:36.944 +03:00 [INF] Route matched with {action = "GetPost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPost(System.Guid) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:23:36.944 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:23:36.945 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:23:36.945 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:23:36.945 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:23:36.945 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:23:36.945 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:36.945 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:23:36.945 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:36.945 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:23:36.945 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:36.946 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:36.946 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:23:36.946 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:23:37.039 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 21:23:37.039 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 21:23:37.040 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 21:23:37.040 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 21:23:37.040 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 21:23:37.040 +03:00 [INF] Executing OkObjectResult, writing value of type 'ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse'.
2024-09-23 21:23:37.040 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation) in 95.1768ms
2024-09-23 21:23:37.040 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:23:37.040 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" completed keep alive response.
2024-09-23 21:23:37.041 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 null application/json; charset=utf-8 98.1691ms
2024-09-23 21:25:32.909 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" received FIN.
2024-09-23 21:25:32.912 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 21:25:32.912 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" disconnecting.
2024-09-23 21:25:32.914 +03:00 [DBG] Connection id "0HN6RVIHHV7PI" stopped.
2024-09-23 21:27:15.835 +03:00 [DBG] Connection id "0HN6RVIHHV7PJ" accepted.
2024-09-23 21:27:15.835 +03:00 [DBG] Connection id "0HN6RVIHHV7PJ" started.
2024-09-23 21:27:15.835 +03:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - application/json 42
2024-09-23 21:27:15.836 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:27:15.836 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:27:15.836 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:27:15.837 +03:00 [INF] Successfully validated the token.
2024-09-23 21:27:15.837 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:27:15.837 +03:00 [DBG] Authorization was successful.
2024-09-23 21:27:15.837 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:27:15.837 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:27:15.838 +03:00 [INF] Route matched with {action = "UpdatePost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdatePost(System.Guid, ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:27:15.838 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:27:15.838 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:27:15.838 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:27:15.838 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:27:15.838 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:27:15.838 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:27:15.838 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:27:15.839 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:27:15.839 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:27:15.839 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:27:15.839 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:27:15.839 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:27:15.839 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:27:15.839 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:27:15.839 +03:00 [DBG] Attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' using the name '' in request data ...
2024-09-23 21:27:15.839 +03:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2024-09-23 21:27:15.839 +03:00 [DBG] Connection id "0HN6RVIHHV7PJ", Request id "0HN6RVIHHV7PJ:00000001": started reading request body.
2024-09-23 21:27:15.840 +03:00 [DBG] Connection id "0HN6RVIHHV7PJ", Request id "0HN6RVIHHV7PJ:00000001": done reading request body.
2024-09-23 21:27:15.840 +03:00 [DBG] JSON input formatter succeeded, deserializing to type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'
2024-09-23 21:27:15.840 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:27:15.840 +03:00 [DBG] Done attempting to bind parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:27:15.840 +03:00 [DBG] Attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest' ...
2024-09-23 21:27:15.840 +03:00 [DBG] Done attempting to validate the bound parameter 'updateRequest' of type 'ContentManager.Api.Contracts.Application.Models.Requests.ContentPostUpdateRequest'.
2024-09-23 21:27:16.008 +03:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2024-09-23 21:27:16.008 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation) in 169.8336ms
2024-09-23 21:27:16.008 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.UpdatePost (ContentManager.Api.Presentation)'
2024-09-23 21:27:16.008 +03:00 [DBG] Connection id "0HN6RVIHHV7PJ" completed keep alive response.
2024-09-23 21:27:16.008 +03:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 0 null 172.8197ms
2024-09-23 21:27:55.521 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - null null
2024-09-23 21:27:55.522 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:27:55.522 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)' with route pattern 'api/posts/{id:guid}' is valid for the request path '/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0'
2024-09-23 21:27:55.522 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:27:55.522 +03:00 [INF] Successfully validated the token.
2024-09-23 21:27:55.522 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:27:55.523 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:27:55.523 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:27:55.523 +03:00 [INF] Route matched with {action = "GetPost", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPost(System.Guid) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:27:55.523 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:27:55.523 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:27:55.523 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:27:55.523 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:27:55.523 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:27:55.523 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:27:55.524 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:27:55.524 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' ...
2024-09-23 21:27:55.524 +03:00 [DBG] Attempting to bind parameter 'id' of type 'System.Guid' using the name 'id' in request data ...
2024-09-23 21:27:55.524 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:27:55.524 +03:00 [DBG] Done attempting to bind parameter 'id' of type 'System.Guid'.
2024-09-23 21:27:55.524 +03:00 [DBG] Attempting to validate the bound parameter 'id' of type 'System.Guid' ...
2024-09-23 21:27:55.524 +03:00 [DBG] Done attempting to validate the bound parameter 'id' of type 'System.Guid'.
2024-09-23 21:27:55.609 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 21:27:55.609 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 21:27:55.609 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 21:27:55.610 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 21:27:55.610 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 21:27:55.610 +03:00 [INF] Executing OkObjectResult, writing value of type 'ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse'.
2024-09-23 21:27:55.610 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation) in 86.5361ms
2024-09-23 21:27:55.610 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPost (ContentManager.Api.Presentation)'
2024-09-23 21:27:55.610 +03:00 [DBG] Connection id "0HN6RVIHHV7PJ" completed keep alive response.
2024-09-23 21:27:55.610 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts/1615850c-e4d0-4c6f-b5b8-aff7946fabe0 - 200 null application/json; charset=utf-8 88.9748ms
2024-09-23 21:29:51.554 +03:00 [DBG] Connection id "0HN6RVIHHV7PJ" received FIN.
2024-09-23 21:29:51.555 +03:00 [DBG] Connection id "0HN6RVIHHV7PJ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 21:29:51.555 +03:00 [DBG] Connection id "0HN6RVIHHV7PJ" disconnecting.
2024-09-23 21:29:51.555 +03:00 [DBG] Connection id "0HN6RVIHHV7PJ" stopped.
2024-09-23 21:36:43.587 +03:00 [INF] Application is shutting down...
2024-09-23 21:36:43.588 +03:00 [DBG] Hosting stopping
2024-09-23 21:36:43.596 +03:00 [DBG] Hosting stopped
2024-09-23 21:36:49.994 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 21:36:50.098 +03:00 [DBG] Hosting starting
2024-09-23 21:36:50.105 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 21:36:50.114 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 21:36:50.122 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 21:36:50.122 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 21:36:50.127 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 21:36:50.132 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 21:36:50.132 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 21:36:50.140 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 21:36:50.144 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 21:36:50.146 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 21:36:50.146 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 21:36:50.156 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 21:36:50.157 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 21:36:50.203 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 21:36:50.203 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 21:36:50.203 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 21:36:50.203 +03:00 [INF] Hosting environment: Development
2024-09-23 21:36:50.203 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 21:36:50.203 +03:00 [DBG] Hosting started
2024-09-23 21:38:39.671 +03:00 [DBG] Connection id "0HN6RVROL68R3" accepted.
2024-09-23 21:38:39.673 +03:00 [DBG] Connection id "0HN6RVROL68R3" started.
2024-09-23 21:38:39.709 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 21:38:39.715 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 21:38:39.747 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 21:38:39.751 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 21:38:39.754 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:38:39.956 +03:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', Current time: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateTokenPayload(JwtSecurityToken jwtToken, TokenValidationParameters validationParameters)
   at System.IdentityModel.Tokens.Jwt.JwtSecurityTokenHandler.ValidateToken(String token, TokenValidationParameters validationParameters, SecurityToken& validatedToken)
   at Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler.HandleAuthenticateAsync()
2024-09-23 21:38:39.963 +03:00 [INF] Bearer was not authenticated. Failure message: IDX10223: Lifetime validation failed. The token is expired. ValidTo: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]', Current time: '[PII is hidden. For more details, see https://aka.ms/IdentityModel/PII.]'.
2024-09-23 21:38:39.982 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:38:39.983 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:38:40.004 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:38:40.007 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:38:40.008 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:38:40.008 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:38:40.009 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:38:40.009 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:38:40.011 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:38:40.050 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:38:40.058 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 21:38:40.060 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 21:38:40.062 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 21:38:40.063 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 21:38:40.064 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 21:38:40.065 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 21:38:40.066 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:38:40.066 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:38:40.066 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 21:38:40.070 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:38:41.246 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 21:38:41.247 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 21:38:41.247 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 21:38:41.248 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 21:38:41.248 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 21:38:41.249 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse, ContentManager.Api.Contracts.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 21:38:41.274 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 1261.6816ms
2024-09-23 21:38:41.277 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:38:41.279 +03:00 [DBG] Connection id "0HN6RVROL68R3" completed keep alive response.
2024-09-23 21:38:41.287 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 200 null application/json; charset=utf-8 1580.3271ms
2024-09-23 21:38:46.280 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIxOjM4OjQ2IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=67df605f-6312-49d7-9486-8d2c56a9ebc2.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - null null
2024-09-23 21:38:46.281 +03:00 [DBG] No candidates found for the request path '/swagger/oauth2-redirect.html'
2024-09-23 21:38:46.281 +03:00 [DBG] Request did not match any endpoints
2024-09-23 21:38:46.283 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 21:38:46.289 +03:00 [INF] Sending file. Request path: '/oauth2-redirect.html'. Physical path: 'N/A'
2024-09-23 21:38:46.290 +03:00 [DBG] Connection id "0HN6RVROL68R3" completed keep alive response.
2024-09-23 21:38:46.290 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/swagger/oauth2-redirect.html?state=TW9uIFNlcCAyMyAyMDI0IDIxOjM4OjQ2IEdNVCswMzAwIChNb3Njb3cgU3RhbmRhcmQgVGltZSk%3D&session_state=e6c0db0a-ef11-4ca7-b2f6-e154579b8989&iss=http%3A%2F%2Fkeycloak.content-manager.local%2Frealms%2FContentManager&code=67df605f-6312-49d7-9486-8d2c56a9ebc2.e6c0db0a-ef11-4ca7-b2f6-e154579b8989.7d21a944-288d-4ed7-8366-c809b6de9a77 - 200 2715 text/html 10.4831ms
2024-09-23 21:38:48.903 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 21:38:48.903 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 21:38:48.903 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 21:38:48.904 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:38:48.928 +03:00 [INF] Successfully validated the token.
2024-09-23 21:38:48.929 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:38:48.931 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:38:48.932 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:38:48.933 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:38:48.933 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:38:48.933 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:38:48.934 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:38:48.934 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:38:48.934 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:38:48.934 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:38:48.939 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:38:48.941 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 21:38:48.942 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 21:38:48.943 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 21:38:48.943 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 21:38:48.943 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 21:38:48.943 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 21:38:48.944 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:38:48.944 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:38:48.944 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 21:38:48.945 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:39:33.021 +03:00 [INF] Application is shutting down...
2024-09-23 21:39:33.022 +03:00 [DBG] Hosting stopping
2024-09-23 21:40:46.139 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 21:40:46.253 +03:00 [DBG] Hosting starting
2024-09-23 21:40:46.278 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 21:40:46.287 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 21:40:46.293 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 21:40:46.293 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 21:40:46.297 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 21:40:46.301 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 21:40:46.301 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 21:40:46.309 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 21:40:46.312 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 21:40:46.317 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 21:40:46.318 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 21:40:46.328 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 21:40:46.329 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 21:40:46.414 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 21:40:46.414 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 21:40:46.415 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 21:40:46.415 +03:00 [INF] Hosting environment: Development
2024-09-23 21:40:46.415 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 21:40:46.416 +03:00 [DBG] Hosting started
2024-09-23 21:40:46.896 +03:00 [DBG] Connection id "0HN6RVSUIFTUH" accepted.
2024-09-23 21:40:46.900 +03:00 [DBG] Connection id "0HN6RVSUIFTUH" started.
2024-09-23 21:40:46.947 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/ - null null
2024-09-23 21:40:46.954 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 21:40:46.993 +03:00 [DBG] No candidates found for the request path '/'
2024-09-23 21:40:46.995 +03:00 [DBG] Request did not match any endpoints
2024-09-23 21:40:47.095 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 21:40:47.135 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 21:40:47.148 +03:00 [DBG] Connection id "0HN6RVSUIFTUH" completed keep alive response.
2024-09-23 21:40:47.153 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/ - 404 0 null 206.2279ms
2024-09-23 21:40:47.162 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/, Response status code: 404
2024-09-23 21:40:47.297 +03:00 [DBG] Connection id "0HN6RVSUIFTUH" received FIN.
2024-09-23 21:40:47.300 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/favicon.ico - null null
2024-09-23 21:40:47.301 +03:00 [DBG] No candidates found for the request path '/favicon.ico'
2024-09-23 21:40:47.301 +03:00 [DBG] Request did not match any endpoints
2024-09-23 21:40:47.304 +03:00 [DBG] Connection id "0HN6RVSUIFTUH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 21:40:47.306 +03:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2024-09-23 21:40:47.324 +03:00 [DBG] The request path  does not match the path filter
2024-09-23 21:40:47.332 +03:00 [DBG] Connection id "0HN6RVSUIFTUH" disconnecting.
2024-09-23 21:40:47.334 +03:00 [DBG] Connection id "0HN6RVSUIFTUH" completed keep alive response.
2024-09-23 21:40:47.335 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/favicon.ico - 404 0 null 35.0533ms
2024-09-23 21:40:47.336 +03:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5200/favicon.ico, Response status code: 404
2024-09-23 21:40:47.340 +03:00 [DBG] Connection id "0HN6RVSUIFTUH" stopped.
2024-09-23 21:41:24.976 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 21:41:25.071 +03:00 [DBG] Hosting starting
2024-09-23 21:41:25.080 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 21:41:25.090 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 21:41:25.097 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 21:41:25.099 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 21:41:25.105 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 21:41:25.111 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 21:41:25.112 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 21:41:25.120 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 21:41:25.123 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 21:41:25.126 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 21:41:25.126 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 21:41:25.136 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 21:41:25.138 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 21:41:25.192 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 21:41:25.193 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 21:41:25.193 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 21:41:25.194 +03:00 [INF] Hosting environment: Development
2024-09-23 21:41:25.194 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 21:41:25.194 +03:00 [DBG] Hosting started
2024-09-23 21:41:29.107 +03:00 [DBG] Connection id "0HN6RVTB52059" accepted.
2024-09-23 21:41:29.107 +03:00 [DBG] Connection id "0HN6RVTB52059" started.
2024-09-23 21:41:29.134 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 21:41:29.138 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 21:41:29.164 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 21:41:29.167 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 21:41:29.167 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:41:29.367 +03:00 [INF] Successfully validated the token.
2024-09-23 21:41:29.368 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:41:29.386 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:41:29.386 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:41:29.402 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:41:29.404 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:41:29.405 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:41:29.405 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:41:29.405 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:41:29.405 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:41:29.406 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:41:29.441 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:41:29.448 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 21:41:29.450 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 21:41:29.452 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 21:41:29.453 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 21:41:29.455 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 21:41:29.455 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 21:41:29.456 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:41:29.456 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:41:29.456 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 21:41:29.464 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:41:30.710 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 21:41:30.711 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 21:41:30.711 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 21:41:30.712 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 21:41:30.713 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 21:41:30.714 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse, ContentManager.Api.Contracts.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 21:41:30.740 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 1332.2884ms
2024-09-23 21:41:30.742 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:41:30.744 +03:00 [DBG] Connection id "0HN6RVTB52059" completed keep alive response.
2024-09-23 21:41:30.753 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 200 null application/json; charset=utf-8 1620.7675ms
2024-09-23 21:42:14.007 +03:00 [INF] Application is shutting down...
2024-09-23 21:42:14.007 +03:00 [DBG] Hosting stopping
2024-09-23 21:42:14.015 +03:00 [DBG] Connection id "0HN6RVTB52059" disconnecting.
2024-09-23 21:42:14.017 +03:00 [DBG] Connection id "0HN6RVTB52059" stopped.
2024-09-23 21:42:14.019 +03:00 [DBG] Connection id "0HN6RVTB52059" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 21:42:14.025 +03:00 [DBG] Hosting stopped
2024-09-23 21:42:21.008 +03:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-09-23 21:42:21.098 +03:00 [DBG] Hosting starting
2024-09-23 21:42:21.105 +03:00 [INF] User profile is available. Using '/home/filebin/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2024-09-23 21:42:21.112 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-a303291e-b532-467c-ba61-e39f75393215.xml'.
2024-09-23 21:42:21.118 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-f399f963-f4a9-4416-a82e-130ada9590e0.xml'.
2024-09-23 21:42:21.118 +03:00 [DBG] Reading data from file '/home/filebin/.aspnet/DataProtection-Keys/key-36a9cfce-53bd-468e-bdbc-d4f48fd9532e.xml'.
2024-09-23 21:42:21.123 +03:00 [DBG] Found key {a303291e-b532-467c-ba61-e39f75393215}.
2024-09-23 21:42:21.128 +03:00 [DBG] Found key {f399f963-f4a9-4416-a82e-130ada9590e0}.
2024-09-23 21:42:21.129 +03:00 [DBG] Found key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e}.
2024-09-23 21:42:21.135 +03:00 [DBG] Considering key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} with expiration date 2024-12-21 16:00:47Z as default key.
2024-09-23 21:42:21.138 +03:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2024-09-23 21:42:21.141 +03:00 [DBG] Using managed symmetric algorithm 'System.Security.Cryptography.Aes'.
2024-09-23 21:42:21.141 +03:00 [DBG] Using managed keyed hash algorithm 'System.Security.Cryptography.HMACSHA256'.
2024-09-23 21:42:21.150 +03:00 [DBG] Using key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} as the default key.
2024-09-23 21:42:21.151 +03:00 [DBG] Key ring with default key {36a9cfce-53bd-468e-bdbc-d4f48fd9532e} was loaded during application startup.
2024-09-23 21:42:21.192 +03:00 [INF] Now listening on: http://localhost:5200
2024-09-23 21:42:21.192 +03:00 [DBG] Loaded hosting startup assembly ContentManager.Api.Web
2024-09-23 21:42:21.193 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-23 21:42:21.193 +03:00 [INF] Hosting environment: Development
2024-09-23 21:42:21.193 +03:00 [INF] Content root path: /home/filebin/projects/ContentManager/ContentManager.Api/Web
2024-09-23 21:42:21.193 +03:00 [DBG] Hosting started
2024-09-23 21:42:31.211 +03:00 [DBG] Connection id "0HN6RVTTLARJH" accepted.
2024-09-23 21:42:31.212 +03:00 [DBG] Connection id "0HN6RVTTLARJH" started.
2024-09-23 21:42:31.244 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - null null
2024-09-23 21:42:31.249 +03:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-09-23 21:42:31.274 +03:00 [DBG] 1 candidate(s) found for the request path '/api/posts'
2024-09-23 21:42:31.279 +03:00 [DBG] Endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)' with route pattern 'api/posts' is valid for the request path '/api/posts'
2024-09-23 21:42:31.281 +03:00 [DBG] Request matched endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:42:31.473 +03:00 [INF] Successfully validated the token.
2024-09-23 21:42:31.474 +03:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2024-09-23 21:42:31.492 +03:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-09-23 21:42:31.494 +03:00 [INF] Executing endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:42:31.511 +03:00 [INF] Route matched with {action = "GetPage", controller = "ContentPost"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetPage(Filebin.Shared.Domain.Models.PageDesc) on controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation).
2024-09-23 21:42:31.513 +03:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-09-23 21:42:31.513 +03:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-09-23 21:42:31.513 +03:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-09-23 21:42:31.514 +03:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-09-23 21:42:31.514 +03:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-09-23 21:42:31.516 +03:00 [DBG] Executing controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:42:31.549 +03:00 [DBG] Executed controller factory for controller ContentManager.Api.Presentation.Controllers.ContentPostController (ContentManager.Api.Presentation)
2024-09-23 21:42:31.555 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 21:42:31.557 +03:00 [DBG] Attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' using the name '' in request data ...
2024-09-23 21:42:31.561 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32' using the name 'PageNumber' in request data ...
2024-09-23 21:42:31.562 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageNumber' of type 'System.Int32'.
2024-09-23 21:42:31.564 +03:00 [DBG] Attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32' using the name 'PageSize' in request data ...
2024-09-23 21:42:31.564 +03:00 [DBG] Done attempting to bind property 'Filebin.Shared.Domain.Models.PageDesc.PageSize' of type 'System.Int32'.
2024-09-23 21:42:31.565 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:42:31.566 +03:00 [DBG] Done attempting to bind parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:42:31.566 +03:00 [DBG] Attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc' ...
2024-09-23 21:42:31.569 +03:00 [DBG] Done attempting to validate the bound parameter 'pageDesc' of type 'Filebin.Shared.Domain.Models.PageDesc'.
2024-09-23 21:42:32.832 +03:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-09-23 21:42:32.834 +03:00 [DBG] No information found on request to perform content negotiation.
2024-09-23 21:42:32.834 +03:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-09-23 21:42:32.834 +03:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-09-23 21:42:32.834 +03:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-09-23 21:42:32.835 +03:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[ContentManager.Api.Contracts.Application.Models.Responses.ContentPostResponse, ContentManager.Api.Contracts.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-23 21:42:32.862 +03:00 [INF] Executed action ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation) in 1344.3048ms
2024-09-23 21:42:32.865 +03:00 [INF] Executed endpoint 'ContentManager.Api.Presentation.Controllers.ContentPostController.GetPage (ContentManager.Api.Presentation)'
2024-09-23 21:42:32.866 +03:00 [DBG] Connection id "0HN6RVTTLARJH" completed keep alive response.
2024-09-23 21:42:32.873 +03:00 [INF] Request finished HTTP/1.1 GET http://localhost:5200/api/posts?PageNumber=1&PageSize=20 - 200 null application/json; charset=utf-8 1631.9299ms
2024-09-23 21:44:28.535 +03:00 [DBG] Connection id "0HN6RVTTLARJH" received FIN.
2024-09-23 21:44:28.537 +03:00 [DBG] Connection id "0HN6RVTTLARJH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-09-23 21:44:28.538 +03:00 [DBG] Connection id "0HN6RVTTLARJH" disconnecting.
2024-09-23 21:44:28.540 +03:00 [DBG] Connection id "0HN6RVTTLARJH" stopped.
